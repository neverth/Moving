## MOVING

* å‰‘æŒ‡offeråˆ·é¢˜æ€»ç»“
* leetCodeåˆ·é¢˜æ€»ç»“
* ç¬”è¯•é¢˜ç›®æ€»ç»“

## å¥—è·¯æ€»ç»“

### äºŒåˆ†æŸ¥æ‰¾å¥—è·¯

é€šè¿‡æ‰¾åˆ°ä¸€ä¸ªä¸­å€¼ï¼Œæ¯æ¬¡ç»“æœéƒ½ä¼šåœ¨èŒƒå›´çš„å·¦è¾¹æˆ–è€…æ˜¯å³è¾¹ï¼Œä¸€æ¬¡å°±å°†èŒƒå›´ç¼©å°ä¸ºä¸€åŠï¼Œç„¶åå†å°†èŒƒå›´ç¼©å°ä¸ºä¸€åŠçš„ä¸€åŠï¼Œç›´åˆ°æ‰¾åˆ°ç»“æœã€‚

```java
// æ—¶é—´å¤æ‚åº¦O(logn)
int binarySearch(int[] nums, int target) {
    int left = 0, right = ...;

    while(...) {
        int mid = left + (right - left) / 2;
        if (nums[mid] == target) {
            ...
        } else if (nums[mid] < target) {
            left = ...
        } else if (nums[mid] > target) {
            right = ...
        }
    }
    return ...;
}
```

### å›æº¯ç®—æ³•ã€æ·±åº¦ä¼˜å…ˆç®—æ³•ï¼ˆDFSï¼‰å¥—è·¯

å¯ä»¥ç†è§£ä¸ºæš´åŠ›èµ°æ‰€æœ‰è·¯å¾„ã€‚DFS é€šè¿‡é€’å½’ï¼Œå…ˆæœä¸€ä¸ªæ–¹å‘æœåˆ°åº•ï¼Œå†å›æº¯è‡³ä¸Šä¸ªèŠ‚ç‚¹ï¼Œæ²¿å¦ä¸€ä¸ªæ–¹å‘æœç´¢ï¼Œä»¥æ­¤ç±»æ¨ã€‚

```java
result = []
void dfsTaoLu() {
    dfs(è·¯å¾„ï¼Œ é€‰æ‹©åˆ—è¡¨);
}
void dfs(è·¯å¾„, é€‰æ‹©åˆ—è¡¨):
    if æ»¡è¶³ç»“æŸæ¡ä»¶:
        result.add(è·¯å¾„)
        return

    for é€‰æ‹© in é€‰æ‹©åˆ—è¡¨:
        åšé€‰æ‹©
        dfs(è·¯å¾„, é€‰æ‹©åˆ—è¡¨)
        æ’¤é”€é€‰æ‹©
```

### å¹¿åº¦ä¼˜å…ˆç®—æ³•ï¼ˆBFSï¼‰å¥—è·¯

åŸç†æ˜¯éå†é˜Ÿåˆ—é‡Œé¢çš„æ¯ä¸ªèŠ‚ç‚¹å¹¶å†å°†éå†èŠ‚ç‚¹å‘¨å›´çš„ç»“ç‚¹å…¥é˜Ÿï¼Œè¿™æ ·ä¸€åœˆä¸€åœˆçš„å¤„ç†å°±æ˜¯å¹¿åº¦ä¼˜å…ˆéå†ã€‚

BFS ç›¸å¯¹ DFS çš„æœ€ä¸»è¦çš„åŒºåˆ«æ˜¯ï¼šBFS æ‰¾åˆ°çš„è·¯å¾„ä¸€å®šæ˜¯æœ€çŸ­çš„ï¼Œä½†ä»£ä»·å°±æ˜¯ç©ºé—´å¤æ‚åº¦æ¯” DFS å¤§å¾ˆå¤šï¼Œå› ä¸ºè¦ä½¿ç”¨é˜Ÿåˆ—ã€‚

```java
int BFS(Node start, Node target) {
    // åˆ›å»ºä¸€ä¸ªé˜Ÿåˆ—ç”¨äºä¿å­˜ä¸€ä¸ªèŠ‚ç‚¹å‘¨å›´çš„æ‰€æœ‰èŠ‚ç‚¹
    Queue<Node> q; 
	// å°†èµ·ç‚¹åŠ å…¥é˜Ÿåˆ—
    q.offer(start); 
    while (!q.isEmpyt()) {
        Node cur = q.poll();
        // å°†èŠ‚ç‚¹å‘¨å›´çš„èŠ‚ç‚¹å…¥é˜Ÿ
        q.offer(x);
    }
}
```

### åŠ¨æ€è§„åˆ’å¥—è·¯

```java

```



## å‰‘æŒ‡offeråˆ·é¢˜æ€»ç»“

**æ·¦**ï¼ï¼ï¼ä»–ç„çš„å¤ªéš¾å—äº†ï¼ŒğŸ¤¬ğŸ¤¬ğŸ¤¬è‡ªå·±ï¼Œæ•²è¿‡å‡ éçš„é¢˜ç›®é¢è¯•çš„è¿˜æ˜¯è¿˜æ˜¯è¿˜æ˜¯æ•²ä¸å‡ºæ¥ã€‚

ä¸ºäº†ä»£ç ç®€æ´ï¼Œçœç•¥äº†ä¸€äº›å¼‚å¸¸å¤„ç†ã€‚



### 03. æ•°ç»„ä¸­é‡å¤çš„æ•°å­—

åœ¨ä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•°ç»„ nums é‡Œçš„æ‰€æœ‰æ•°å­—éƒ½åœ¨ 0ï½n-1 çš„èŒƒå›´å†…ã€‚æ•°ç»„ä¸­æŸäº›æ•°å­—æ˜¯é‡å¤çš„ï¼Œä½†ä¸çŸ¥é“æœ‰å‡ ä¸ªæ•°å­—é‡å¤äº†ï¼Œä¹Ÿä¸çŸ¥é“æ¯ä¸ªæ•°å­—é‡å¤äº†å‡ æ¬¡ã€‚è¯·æ‰¾å‡ºæ•°ç»„ä¸­ä»»æ„ä¸€ä¸ªé‡å¤çš„æ•°å­—ã€‚

ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼š
[2, 3, 1, 0, 2, 5, 3]
è¾“å‡ºï¼š2 æˆ– 3 
```

é™åˆ¶ï¼š

```
2 <= n <= 100000
```

#### è§£æ³•ä¸€ï¼ˆæ’åºï¼‰

ç›´æ¥æ’åºï¼Œä¹‹åéå†å‰ä¸€ä¸ªå…ƒç´ è·Ÿåä¸€ä¸ªå…ƒç´ æ˜¯å¦ç›¸ç­‰ï¼Œç›¸ç­‰ç›´æ¥è¿”å›å…ƒç´ 

```java
// æ—¶é—´å¤æ‚åº¦ O(nlogn)
public int findRepeatNumber(int[] nums) {
    Arrays.sort(nums);
    for(int i = 0; i < nums.length - 1; i++){
        if(nums[i] == nums[i + 1]){
            return nums[i];
        }
    }
    return -1;
}
```

#### è§£æ³•äºŒï¼ˆHASHï¼‰

æŠŠå…ƒç´ ä¸€ä¸ªä¸ªçš„åŠ å…¥`hashSet`é›†åˆä¸­ï¼ŒåŠ å…¥æœ‰é‡å¤åˆ™ç›´æ¥è¿”å›

```java
// æ—¶é—´å¤æ‚åº¦O(n)
public int findRepeatNumber(int[] nums) {
    HashSet<Integer> set = new HashSet<>();
    for (int num : nums) {
        if (!set.add(num)) {
            return num;
        }
    }
    return -1;
}
```

#### è§£æ³•ä¸‰ï¼ˆåŸåœ°ç½®æ¢ï¼‰

å› ä¸ºé•¿åº¦ä¸º `n` ä¸”æ‰€æœ‰æ•°å­—éƒ½åœ¨ `0 åˆ° n - 1`ä¹‹é—´ï¼Œæ‰€ä»¥å¦‚æœæ²¡æœ‰é‡å¤æ•°å­—ï¼Œé‚£ä¹ˆæ­£å¸¸æ’åºåï¼Œæ•°å­—å°±åœ¨å¯¹åº”ä¸‹æ ‡çš„åœ°æ–¹ã€‚å› æ­¤éå†æ•°ç»„ï¼Œå¦‚æœä¸å¯¹åº”åˆ™äº¤æ¢åˆ°å¯¹åº”çš„ä½ç½®ï¼Œå¦‚æœå¯¹åº”ä½ç½®å·²ç»æœ‰å¯¹åº”çš„æ•°å­—åˆ™å‘ç”Ÿé‡å¤ã€‚

```java
// æ—¶é—´å¤æ‚åº¦O(n)ï¼Œç©ºé—´å¤æ‚åº¦O(1)
public int findRepeatNumber(int[] nums) {
    for(int i = 0; i < nums.length; i++){
        // ä¸ç›¸ç­‰åˆ™ä¸€ç›´äº¤æ¢ï¼ŒçŸ¥é“å‡ºç°é‡å¤æˆ–è€…ç›¸ç­‰ã€‚
        while(nums[i] != i){
            if(nums[i] == nums[nums[i]]){
                return nums[i];
            }
            int tmp = nums[i];
            nums[i] = nums[tmp];
            nums[tmp] = tmp;
        }
    }
    return -1;
}
```

### 04. äºŒç»´æ•°ç»„ä¸­çš„æŸ¥æ‰¾

åœ¨ä¸€ä¸ª n * m çš„äºŒç»´æ•°ç»„ä¸­ï¼Œæ¯ä¸€è¡Œéƒ½æŒ‰ç…§ä»å·¦åˆ°å³é€’å¢çš„é¡ºåºæ’åºï¼Œæ¯ä¸€åˆ—éƒ½æŒ‰ç…§ä»ä¸Šåˆ°ä¸‹é€’å¢çš„é¡ºåºæ’åºã€‚è¯·å®Œæˆä¸€ä¸ªå‡½æ•°ï¼Œè¾“å…¥è¿™æ ·çš„ä¸€ä¸ªäºŒç»´æ•°ç»„å’Œä¸€ä¸ªæ•´æ•°ï¼Œåˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦å«æœ‰è¯¥æ•´æ•°ã€‚

ç¤ºä¾‹:

ç°æœ‰çŸ©é˜µ matrix å¦‚ä¸‹ï¼š

```
[
  [1,   4,  7, 11, 15],
  [2,   5,  8, 12, 19],
  [3,   6,  9, 16, 22],
  [10, 13, 14, 17, 24],
  [18, 21, 23, 26, 30]
]
```

ç»™å®š target = `5`ï¼Œè¿”å› `true`ã€‚

ç»™å®š target = `20`ï¼Œè¿”å› `false`ã€‚

é™åˆ¶ï¼š

```
0 <= n <= 1000
0 <= m <= 1000
```

#### è§£æ³•ä¸€ ï¼ˆçº¿æ€§æŸ¥æ‰¾ï¼‰

ä»æ•°ç»„**å³ä¸Šè§’**å¼€å§‹æŸ¥æ‰¾æ•°ç»„ï¼Œå¦‚æœå…ƒç´ å¤§äºç›®æ ‡å€¼ï¼Œ`j--`ï¼Œå¦‚æœå°äº `i++`ï¼Œä¾æ¬¡å¾ªç¯ç›´è‡³æ‰¾åˆ°è¿™ä¸ªæ•°ã€‚

```java
// æ—¶é—´å¤æ‚åº¦O(m + n)
public boolean find(int[][] matrix, int target) {
    int i = 0, j = matrix[0].length - 1;
    
    while(i < matrix.length && j >= 0){
        if(matrix[i][j] > target){
            j--;
        }else if(matrix[i][j] < target){
            i++;
        }else{
            return true;
        }
    }
    return false;
}
```

### 05. æ›¿æ¢ç©ºæ ¼

è¯·å®ç°ä¸€ä¸ªå‡½æ•°ï¼ŒæŠŠå­—ç¬¦ä¸² `s` ä¸­çš„æ¯ä¸ªç©ºæ ¼æ›¿æ¢æˆ`"%20"`ã€‚

ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼šs = "We are happy."
è¾“å‡ºï¼š"We%20are%20happy."
```

**é™åˆ¶ï¼š**

```
0 <= s çš„é•¿åº¦ <= 10000
```

#### è§£æ³•ä¸€ï¼ˆå¸¸è§„ï¼‰

ç›´æ¥StringBuilderå°±OKã€‚

æ—¶é—´å¤æ‚åº¦O(n)

#### è§£æ³•äºŒï¼ˆé€†å‘æ€ç»´ï¼‰

å…ˆéå†ä¸€èˆ¬æ•°ç»„è®°å½•ç©ºæ ¼çš„ä¸ªæ•°ï¼Œç„¶ååˆ›å»ºå¯¹åº”é•¿åº¦çš„å­—ç¬¦æ•°ç»„

æ—¶é—´å¤æ‚åº¦O(n)

### 06. ä»å°¾åˆ°å¤´æ‰“å°é“¾è¡¨

è¾“å…¥ä¸€ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹ï¼Œä»å°¾åˆ°å¤´åè¿‡æ¥è¿”å›æ¯ä¸ªèŠ‚ç‚¹çš„å€¼ï¼ˆç”¨æ•°ç»„è¿”å›ï¼‰ã€‚

ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼šhead = [1,3,2]
è¾“å‡ºï¼š[2,3,1]
```

é™åˆ¶ï¼š

```
0 <= é“¾è¡¨é•¿åº¦ <= 10000
```

#### è§£æ³•ä¸€ï¼ˆé€’å½’æ³•ï¼‰

é€’å½’åˆ°é“¾è¡¨æœ«ç«¯ï¼Œå›æº¯æ—¶ä¾æ¬¡å°†èŠ‚ç‚¹å€¼åŠ å…¥ç»“æœåˆ—è¡¨ä¸­ã€‚ 

```java
// æ—¶é—´å¤æ‚åº¦O(n)
ArrayList<Integer> res = new ArrayList<>();

public int[] reversePrint(ListNode head) {
    reverse(head);
    int[] a = new int[res.size()];
    for(int i = 0; i < a.length; i++)
        a[i] = res.get(i);
    return a;
}
public void reverse(ListNode head){
    if(head != null){
        // å…ˆé€’å½’å†è¾“å‡º
        reverse(head.next);
        res.add(head.val);
    }
}
```

#### è§£æ³•äºŒï¼ˆè¾…åŠ©æ ˆï¼‰

ä»å¤´åˆ°å°¾éå†é“¾è¡¨ï¼Œå¹¶ç”¨ä¸€ä¸ªæ ˆå­˜å‚¨æ¯ä¸ªç»“ç‚¹çš„å€¼ï¼Œä¹‹åå‡ºæ ˆè¾“å‡ºå€¼å³å¯ã€‚

```java
// æ—¶é—´å¤æ‚åº¦O(n)
public int[] reversePrint(ListNode head) {
    LinkedList<Integer> stack = new LinkedList<>();
    while (head != null) {
        stack.addLast(head.val);
        head = head.next;
    }
    int[] res = new int[stack.size()];
    for (int i = 0; i < res.length; i++)
        res[i] = stack.removeLast();
    return res;
}
```

### 07. é‡å»ºäºŒå‰æ ‘

è¾“å…¥æŸäºŒå‰æ ‘çš„å‰åºéå†å’Œä¸­åºéå†çš„ç»“æœï¼Œè¯·é‡å»ºè¯¥äºŒå‰æ ‘ã€‚å‡è®¾è¾“å…¥çš„å‰åºéå†å’Œä¸­åºéå†çš„ç»“æœä¸­éƒ½ä¸å«é‡å¤çš„æ•°å­—ã€‚ä»ä¸‹å¾€ä¸Šçš„æ„å»ºè¿‡ç¨‹ã€‚

ä¾‹å¦‚ï¼Œç»™å‡º

```
å‰åºéå† preorder = [3,9,20,15,7]
ä¸­åºéå† inorder = [9,3,15,20,7]
```

è¿”å›å¦‚ä¸‹çš„äºŒå‰æ ‘ï¼š

```
    3
   / \
  9  20
    /  \
   15   7
```

**é™åˆ¶ï¼š**

```
0 <= èŠ‚ç‚¹ä¸ªæ•° <= 5000
```

#### è§£æ³•ä¸€ï¼ˆé€’å½’ï¼‰

å…ˆåºéå†çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹å°±æ˜¯æ ¹èŠ‚ç‚¹ï¼Œåœ¨ä¸­åºéå†ä¸­é€šè¿‡æ ¹èŠ‚ç‚¹åŒºåˆ†å·¦å³å­æ ‘ï¼Œæ ¹èŠ‚ç‚¹çš„å·¦å³èŠ‚ç‚¹ä»£è¡¨ç€èŒƒå›´æ›´å°çš„å¯¹åº”å…ˆåºéå†å’Œä¸­åºéå†çš„é€’å½’è¿‡ç¨‹ã€‚

```java
public TreeNode buildTree(int[] preorder, int[] inorder) {
    if (preorder.length == 0) {
        return null;
    }
    // å‰åºéå†çš„ç¬¬ä¸€ä¸ªä½ç½®å°±æ˜¯æ ¹èŠ‚ç‚¹
    TreeNode root = new TreeNode(preorder[0]);
    // TODO: è¿™é‡Œä¸ºäº†ç®€æ´ï¼Œå¯ä»¥é€šè¿‡HASH
    for (int i = 0; i < preorder.length; i++) {
        // åœ¨ä¸­åºéå†ä¸­æ‰¾åˆ°ä¸æ ¹èŠ‚ç‚¹å¯¹åº”çš„ä½ç½®
        if (preorder[0] == inorder[i]) {
            root.left = buildTree(
                // copyOfRangeå¯¹åº”çš„èŒƒå›´ [a, b)
                Arrays.copyOfRange(preorder, 1, i + 1),
                Arrays.copyOfRange(inorder, 0, i)
            );
            root.right = buildTree(
                // copyOfRangeå¯¹åº”çš„èŒƒå›´ [a, b)
                Arrays.copyOfRange(preorder, i + 1, preorder.length),
                Arrays.copyOfRange(inorder, i + 1, inorder.length)
            );
            break;
        }
    }
    return root;
}
```

å…ˆåºéå†çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹å°±æ˜¯æ ¹èŠ‚ç‚¹ï¼Œç›´æ¥åˆ›å»ºæ ¹èŠ‚ç‚¹ï¼Œç„¶ååœ¨ä¸­åºéå†ä¸­é€šè¿‡æ ¹èŠ‚ç‚¹åŒºåˆ†å·¦å³å­æ ‘æ ‘ï¼Œæ ¹çš„å·¦å³èŠ‚ç‚¹å°±åˆ†åˆ«ç­‰äºç¼©å°èŒƒå›´çš„æ ¹çš„å·¦èŠ‚ç‚¹ä¸å·¦å­æ ‘å’Œæ ¹çš„å³èŠ‚ç‚¹ä¸å³å­æ ‘çš„é€’å½’è°ƒç”¨ï¼Œä»ä¸‹å¾€ä¸Šçš„æ„å»ºè¿‡ç¨‹ã€‚

```java
// æ—¶é—´å¤æ‚åº¦O(n)
// hashä»ä¸­åºéå†ä¸­æ‰¾åˆ°å¯¹åº”å€¼çš„ä¸‹æ ‡ï¼Œä¸‹æ ‡å·¦å³ä¸ºå¯¹åº”çš„å·¦å³å­æ ‘
HashMap<Integer, Integer> map = new HashMap<>();

// å…ˆåºéå†ï¼Œæ–¹ä¾¿åœ¨é€’å½’ä¸­è¿›è¡Œè®¿é—®
int[] preorder;

public TreeNode buildTree(int[] preorder, int[] inorder) {
    this.preorder = preorder;
    for (int i = 0; i < preorder.length; i++) {
        // æ·»åŠ å€¼å’Œå¯¹åº”çš„ä¸‹æ ‡
        map.put(inorder[i], i);
    }
    return recursive(0, 0, inorder.length - 1);
}

public TreeNode recursive(
    int pre_root_idx, // æ ¹èŠ‚ç‚¹å¯¹åº”çš„ä¸‹æ ‡
    int in_left_idx,  // ä¸­åºéå†å¯¹åº”èŒƒå›´çš„å·¦ä¸‹æ ‡
    int in_right_idx  // ä¸­åºéå†å¯¹åº”èŒƒå›´çš„å³ä¸‹æ ‡
) {
    // ä¸­åºéå†èŒƒå›´å°äº0ä»£è¡¨å·²å®Œæˆ
    if (in_right_idx - in_left_idx < 0) {
        return null;
    }
    // æ ¹æ®æ ¹èŠ‚ç‚¹ä¸‹æ ‡åˆ›å»ºæ ¹èŠ‚ç‚¹
    TreeNode root = new TreeNode(preorder[pre_root_idx]);
    // æ ¹æ®æ ¹èŠ‚ç‚¹çš„å€¼ä»HashMapä¸­æ‰¾åˆ°å¯¹åº”åœ¨ä¸­åºéå†ä¸­çš„ä¸‹æ ‡
    int idx = map.get(preorder[pre_root_idx]);
    // æ ¹èŠ‚ç‚¹çš„å·¦å­æ ‘å°±æ˜¯æ ¹çš„å·¦èŠ‚ç‚¹ä¸ä¸­åºéå†ç¼©å°èŒƒå›´çš„é€’å½’è¿‡ç¨‹
    root.left = recursive(pre_root_idx + 1, in_left_idx, idx - 1);
    // æ ¹èŠ‚ç‚¹çš„å³å­æ ‘å°±æ˜¯æ ¹çš„å³èŠ‚ç‚¹ä¸ä¸­åºéå†ç¼©å°èŒƒå›´çš„é€’å½’è¿‡ç¨‹
    root.right = recursive(
        // æ ¹èŠ‚ç‚¹çš„å³èŠ‚ç‚¹ = æ ¹èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ + å·¦å­æ ‘çš„é•¿åº¦
        pre_root_idx + 1 + (idx - in_left_idx), 
        idx + 1, in_right_idx
    );
	// è¿”å›å·²ç»æ„å»ºå¥½çš„æ ¹èŠ‚ç‚¹
    return root;
}
```

#### è§£æ³•äºŒï¼ˆè¿­ä»£ï¼‰

ä½¿ç”¨æ ˆä¿å­˜**å³èŠ‚ç‚¹è¿˜æ²¡æœ‰èµ‹å€¼**çš„èŠ‚ç‚¹ï¼Œé€šè¿‡å‰åºéå†ä¸¤ä¸ªç›¸é‚»èŠ‚ç‚¹çš„å…³ç³»æ¥åˆ¤æ–­ï¼Œå…¶å­˜åœ¨ä¸¤ç§å…³ç³»

* åä¸€ä¸ªèŠ‚ç‚¹æ˜¯å‰ä¸€ä¸ªèŠ‚ç‚¹çš„å·¦èŠ‚ç‚¹ï¼Œç›´æ¥èµ‹å€¼å·¦èŠ‚ç‚¹ã€‚å› ä¸ºå‰åºéå†å’Œåç»­éå†å¯¹åº”ä¸ç›¸ç­‰
* å‰èŠ‚ç‚¹ä¸å­˜åœ¨å·¦èŠ‚ç‚¹ï¼ŒåèŠ‚ç‚¹æ˜¯**å·²ç»å…¥æ ˆèŠ‚ç‚¹çš„å³èŠ‚ç‚¹**ï¼Œä½†æ˜¯ä¸çŸ¥é“æ˜¯å“ªä¸€ä¸ªèŠ‚ç‚¹çš„å³èŠ‚ç‚¹ã€‚æ‰€ä»¥å°†å·²ç»å…¥æ ˆçš„èŠ‚ç‚¹å‡ºæ ˆä¸ä¸­åºéå†èŠ‚ç‚¹æ¯”è¾ƒï¼Œå¦‚æœç›¸ç­‰å¯¹åº”äº†ä¸­åºéå†èŠ‚ç‚¹æ²¡æœ‰å³èŠ‚ç‚¹çš„è¿‡ç¨‹ï¼Œè·³è¿‡ï¼Œä¸ç›¸ç­‰åˆ™ä»£è¡¨å‰åºéå†åèŠ‚ç‚¹å°±æ˜¯è¿™ä¸ªå‡ºæ ˆèŠ‚ç‚¹çš„å³èŠ‚ç‚¹ã€‚

å°±è¿™æ ·å¾ªç¯éå†å‰åºéå†ä¸¤ä¸¤ç›¸é‚»èŠ‚ç‚¹ï¼Œæ ¹æ®ä¸­åºéå†åŒ¹é…ä¸¤ç§ä¸åŒçš„æƒ…å†µå°±å¯ä»¥é‡å»ºäºŒå‰æ ‘ã€‚ä»ä¸Šå¾€ä¸‹çš„æ„å»ºè¿‡ç¨‹ã€‚

```java
// æ—¶é—´å¤æ‚åº¦O(n)
public TreeNode buildTree1(int[] preorder, int[] inorder) {
    // æ ¹èŠ‚ç‚¹å°±æ˜¯å‰åºèŠ‚ç‚¹çš„ç¬¬ä¸€ä¸ª
    TreeNode root = new TreeNode(preorder[0]);
    // ç”¨æ ˆç»´æŠ¤å³èŠ‚ç‚¹è¿˜æ²¡æœ‰èµ‹å€¼çš„èŠ‚ç‚¹
    // å·¦å­æ ‘å¯ä»¥ç«‹å³èµ‹å€¼ï¼Œé€šè¿‡åˆ¤æ–­ä¸­åºéå†çš„ç¬¬ä¸€ä¸ªç»“ç‚¹æ˜¯å¦ç­‰äºæ ¹èŠ‚ç‚¹å³å¯
    Stack<TreeNode> stack = new Stack<>();
    // æ ¹èŠ‚ç‚¹å…¥æ ˆ
    stack.push(root);
    // ä¸­åºéå†ä¸‹æ ‡
    int inorderIndex = 0;
    // ä»å‰åºéå†ä¸‹ä¸€ä¸ªç›¸é‚»èŠ‚ç‚¹å¼€å§‹åˆ¤æ–­ï¼Œåˆ¤æ–­å…¶æ˜¯åœ¨æ ¹èŠ‚ç‚¹çš„å·¦ or å³å­æ ‘
    for (int i = 1; i < preorder.length; i++) {
        // peekä¸€ä¸‹æ ˆé¡¶(å³èŠ‚ç‚¹è¿˜æ²¡æœ‰èµ‹å€¼çš„èŠ‚ç‚¹)ï¼Œå¹¶ä¸ä¼šå‡ºæ ˆ
        TreeNode node = stack.peek();
        // å‰åºéå†å’Œä¸­åºéå†å¯¹åº”ä¸‹æ ‡ä¸ç­‰ï¼Œä»£è¡¨èŠ‚ç‚¹å­˜åœ¨å·¦èŠ‚ç‚¹
        if (node.val != inorder[inorderIndex]) {
            // å‰åºéå†ä¸‹ä¸€ä¸ªç›¸é‚»èŠ‚ç‚¹æ˜¯å‰èŠ‚ç‚¹çš„å·¦èŠ‚ç‚¹ï¼Œèµ‹å€¼
            node.left = new TreeNode(preorder[i]);
            // node.leftçš„å³èŠ‚ç‚¹è¿˜æ²¡æœ‰èµ‹å€¼ï¼Œå…¥æ ˆ
            stack.push(node.left);
        }
        // å‰åºéå†å’Œä¸­åºéå†å¯¹åº”ä¸‹æ ‡ç›¸ç­‰ï¼Œå³èŠ‚ç‚¹ä¸å­˜åœ¨å·¦èŠ‚ç‚¹ï¼Œ
        else {
            // å‰åºéå†ä¸‹ä¸€ä¸ªç›¸é‚»èŠ‚ç‚¹æ˜¯å·²ç»å…¥æ ˆèŠ‚ç‚¹çš„å³èŠ‚ç‚¹ï¼Œä½†æ˜¯ä¸çŸ¥é“å…·ä½“æ˜¯å“ªä¸€ä¸ªèŠ‚ç‚¹
            while (!stack.isEmpty()
                   && stack.peek().val == inorder[inorderIndex]
                  ) {
                // æ‰€ä»¥åœ¨è¿™é‡Œè¿›è¡Œè¿‡æ»¤ï¼Œä»å‰åºéå†å·²ç»éå†çš„èŠ‚ç‚¹é€†åº(å¯¹åº”å‡ºæ ˆ)å¼€å§‹å’Œ
                // ä¸­åºéå†æ¯”è¾ƒï¼Œç›¸ç­‰å°±ä»£è¡¨è¯¥èŠ‚ç‚¹ä¸å­˜åœ¨å³å­èŠ‚ç‚¹ç›´æ¥è·³è¿‡
                node = stack.pop();
                inorderIndex++;
            }
            // ç›´åˆ°ä¸ç›¸ç­‰ï¼Œä»£è¡¨å‰åºéå†ä¸‹ä¸€ä¸ªç›¸é‚»èŠ‚ç‚¹å°±æ˜¯è¿™ä¸ªèŠ‚ç‚¹çš„å³èŠ‚ç‚¹
            node.right = new TreeNode(preorder[i]);
            // å…¶ä¸å­˜åœ¨å³èŠ‚ç‚¹ï¼Œå…¥æ ˆ
            stack.push(node.right);
        }
    }
    return root;
}
```

### 09. ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—

ç”¨ä¸¤ä¸ªæ ˆå®ç°ä¸€ä¸ªé˜Ÿåˆ—ã€‚é˜Ÿåˆ—çš„å£°æ˜å¦‚ä¸‹ï¼Œè¯·å®ç°å®ƒçš„ä¸¤ä¸ªå‡½æ•° `appendTail` å’Œ `deleteHead` ï¼Œåˆ†åˆ«å®Œæˆåœ¨é˜Ÿåˆ—å°¾éƒ¨æ’å…¥æ•´æ•°å’Œåœ¨é˜Ÿåˆ—å¤´éƒ¨åˆ é™¤æ•´æ•°çš„åŠŸèƒ½ã€‚(è‹¥é˜Ÿåˆ—ä¸­æ²¡æœ‰å…ƒç´ ï¼Œ`deleteHead` æ“ä½œè¿”å› -1 )

ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼š
["CQueue","appendTail","deleteHead","deleteHead"]
[[],[3],[],[]]
è¾“å‡ºï¼š[null,null,3,-1]
```

ç¤ºä¾‹ 2ï¼š

```
è¾“å…¥ï¼š
["CQueue","deleteHead","appendTail","appendTail","deleteHead","deleteHead"]
[[],[],[5],[2],[],[]]
è¾“å‡ºï¼š[null,-1,null,null,5,2]
```

**æç¤ºï¼š**

- `1 <= values <= 10000`
- `æœ€å¤šä¼šå¯¹ appendTailã€deleteHead è¿›è¡Œ 10000 æ¬¡è°ƒç”¨`

#### è§£æ³•ä¸€ï¼ˆå¸¸è§„ï¼‰

ç»´æŠ¤ä¸¤ä¸ªæ ˆï¼Œå…¥æ ˆæ”¯æŒæ’å…¥æ“ä½œï¼Œå‡ºæ ˆæ”¯æŒåˆ é™¤æ“ä½œã€‚å…¥é˜Ÿç›´æ¥å‹å…¥å…¥æ ˆã€‚å‡ºé˜Ÿæ—¶ï¼Œç›´æ¥å¼¹å‡ºå‡ºæ ˆæ ˆé¡¶ï¼Œä½†æ˜¯å­˜åœ¨å‡ºæ ˆä¸­ä¸å­˜åœ¨å…ƒç´ ï¼Œæ­¤æ—¶å°†å…¥æ ˆä¸­çš„æ‰€æœ‰å…ƒç´ å‹å…¥å‡ºæ ˆä¸­ï¼Œç„¶åå†å¼¹å‡ºå‡ºæ ˆæ ˆé¡¶ï¼Œè¿™æ ·é¡ºåºä¸ä¼šä¹±æ‰ã€‚

```java
// æ—¶é—´å¤æ‚åº¦ï¼Œå…¥æ ˆå’Œå‡ºæ ˆéƒ½æ˜¯O(1)
class CQueue {
    //ä¸¤ä¸ªæ ˆï¼Œä¸€ä¸ªå…¥æ ˆ
    private Stack<Integer> stack1;
    // ä¸€ä¸ªå‡ºæ ˆ
    private Stack<Integer> stack2;
    
    public CQueue() {
        stack1 = new Stack<>();
        stack2 = new Stack<>();
    }
    
    public void appendTail(int value) {
        stack1.push(value);
    }
    
    public int deleteHead() {
        // åªè¦å‡ºæ ˆä¸­å­˜åœ¨å…ƒç´ ï¼Œæ ˆé¡¶ä»£è¡¨æ˜¯é˜Ÿå¤´
        if(!stack2.isEmpty()){
            return stack2.pop();
        }else{
            // å‡ºæ ˆä¸­æ²¡æœ‰å…ƒç´ ï¼Œå°±å°†å…¥æ ˆä¸­çš„æ‰€æœ‰å…ƒç´ å‹å…¥å‡ºæ ˆä¸­
            // è¿™æ ·é¡ºåºå°±ä¸ä¼šä¹±äº†
            while(!stack1.isEmpty()){
                stack2.push(stack1.pop());
            }
            return stack2.isEmpty() ? -1 : stack2.pop();
        }
    }
}
```

### 10.1. æ–æ³¢é‚£å¥‘æ•°åˆ—

å†™ä¸€ä¸ªå‡½æ•°ï¼Œè¾“å…¥ n ï¼Œæ±‚æ–æ³¢é‚£å¥‘ï¼ˆFibonacciï¼‰æ•°åˆ—çš„ç¬¬ n é¡¹ã€‚æ–æ³¢é‚£å¥‘æ•°åˆ—çš„å®šä¹‰å¦‚ä¸‹ï¼š

```
F(0) = 0,   F(1) = 1
F(N) = F(N - 1) + F(N - 2), å…¶ä¸­ N > 1.
```

æ–æ³¢é‚£å¥‘æ•°åˆ—ç”± 0 å’Œ 1 å¼€å§‹ï¼Œä¹‹åçš„æ–æ³¢é‚£å¥‘æ•°å°±æ˜¯ç”±ä¹‹å‰çš„ä¸¤æ•°ç›¸åŠ è€Œå¾—å‡ºã€‚

ç­”æ¡ˆéœ€è¦å–æ¨¡ 1e9+7ï¼ˆ1000000007ï¼‰ï¼Œå¦‚è®¡ç®—åˆå§‹ç»“æœä¸ºï¼š1000000008ï¼Œè¯·è¿”å› 1ã€‚

ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼šn = 2
è¾“å‡ºï¼š1
```

ç¤ºä¾‹ 2ï¼š

```
è¾“å…¥ï¼šn = 5
è¾“å‡ºï¼š5
```

 æç¤ºï¼š

- `0 <= n <= 100`

#### è§£æ³•ä¸€ï¼ˆåŠ¨æ€è§„åˆ’ï¼‰

1. åˆ›å»ºä¸€ä¸ªdpæ•°ç»„ï¼Œä¸‹æ ‡ä¸ºnçš„å…ƒç´ çš„å€¼ä»£è¡¨å¯¹åº”æ–æ³¢é‚£å¥‘æ•°åˆ—çš„ç¬¬né¡¹çš„å€¼
2. å·²çŸ¥ç¬¬0é¡¹å’Œç¬¬1é¡¹å€¼
3. å¯¹åº”çŠ¶æ€è½¬ç§»æ–¹ç¨‹å·²ç»™å‡ºï¼ŒF(N) = F(N - 1) + F(N - 2)

è‡ªåº•å‘ä¸Šå³å¯æ¨å‡ºå…¨éƒ¨å€¼ã€‚

```java
// æ—¶é—´å¤æ‚åº¦O(n)
public int fib(int n) {
    if (n == 0) return 0;
    // dpæ•°ç»„ï¼Œä¸‹æ ‡ä¸ºnçš„å…ƒç´ çš„å€¼ä»£è¡¨å¯¹åº”æ–æ³¢é‚£å¥‘æ•°åˆ—çš„ç¬¬né¡¹çš„å€¼
    int[] dp = new int[n + 1];
    dp[0] = 0;
    dp[1] = 1;
    for (int i = 2; i <= n; i++) {
        dp[i] = dp[i - 1] + dp[i - 2];
        dp[i] %= 1000000007;
    }
    return dp[n];
}
```

### [10.2. é’è›™è·³å°é˜¶é—®é¢˜](https://leetcode-cn.com/problems/qing-wa-tiao-tai-jie-wen-ti-lcof/)

ä¸€åªé’è›™ä¸€æ¬¡å¯ä»¥è·³ä¸Š1çº§å°é˜¶ï¼Œä¹Ÿå¯ä»¥è·³ä¸Š2çº§å°é˜¶ã€‚æ±‚è¯¥é’è›™è·³ä¸Šä¸€ä¸ª n çº§çš„å°é˜¶æ€»å…±æœ‰å¤šå°‘ç§è·³æ³•ã€‚

ç­”æ¡ˆéœ€è¦å–æ¨¡ 1e9+7ï¼ˆ1000000007ï¼‰ï¼Œå¦‚è®¡ç®—åˆå§‹ç»“æœä¸ºï¼š1000000008ï¼Œè¯·è¿”å› 1ã€‚

ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼šn = 2
è¾“å‡ºï¼š2
```

ç¤ºä¾‹ 2ï¼š

```
è¾“å…¥ï¼šn = 7
è¾“å‡ºï¼š21
```

ç¤ºä¾‹ 3ï¼š

```
è¾“å…¥ï¼šn = 0
è¾“å‡ºï¼š1
```

æç¤ºï¼š

- `0 <= n <= 100`

#### è§£æ³•ä¸€ï¼ˆåŠ¨æ€è§„åˆ’ï¼‰

1. åˆ›å»ºä¸€ä¸ªdpæ•°ç»„ï¼Œä¸‹æ ‡ä¸ºnçš„å…ƒç´ çš„å€¼ä»£è¡¨å¯¹åº”é’è›™è·³ä¸Šä¸€ä¸ªnçº§å°é˜¶çš„è·³æ³•
2. å·²çŸ¥ä¸Š0çº§ã€1çº§ã€2çº§çš„è·³æ³•ï¼Œåˆ†åˆ«ä¸º0ã€1ã€2
3. çŠ¶æ€è½¬ç§»æ–¹ç¨‹`ç¬¬næ¬¡çš„è·³æ³• = ç¬¬n - 1æ¬¡çš„è·³æ³•ï¼ˆå¯¹åº”è·³ä¸€æ­¥ï¼‰ + ç¬¬n - 2æ¬¡çš„è·³æ³•ï¼ˆå¯¹åº”è·³ä¸¤æ­¥ï¼‰  `

è‡ªåº•å‘ä¸Šå³å¯æ¨å‡ºå…¨éƒ¨å€¼ã€‚

```java
// æ—¶é—´å¤æ‚åº¦O(n)
public int numWays(int n) {
    if(n == 0 || n == 1) return 1;
    // ä¸‹æ ‡ä¸ºnçš„å…ƒç´ çš„å€¼ä»£è¡¨å¯¹åº”é’è›™è·³ä¸Šä¸€ä¸ªnçº§å°é˜¶çš„è·³æ³•ï¼Œ
    int[] dp = new int[n + 1];
    dp[0] = 0;
    dp[1] = 1;
    dp[2] = 2;
    // ä»è·³3çº§å¼€å§‹æ¨å¯¼
    for(int i = 3; i <= n; i++){
        // å¯ä»¥è·³ä¸€çº§æˆ–è€…ä¸¤çº§ï¼Œä¸¤ç§è·³æ³•ç›¸åŠ 
        dp[i] = dp[i - 1] + dp[i - 2];
        dp[i] = dp[i] % 1000000007;
    }
    return dp[n];
}
```

### [11. æ—‹è½¬æ•°ç»„çš„æœ€å°æ•°å­—](https://leetcode-cn.com/problems/xuan-zhuan-shu-zu-de-zui-xiao-shu-zi-lcof/)

æŠŠä¸€ä¸ªæ•°ç»„æœ€å¼€å§‹çš„è‹¥å¹²ä¸ªå…ƒç´ æ¬åˆ°æ•°ç»„çš„æœ«å°¾ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºæ•°ç»„çš„æ—‹è½¬ã€‚**è¾“å…¥ä¸€ä¸ªé€’å¢æ’åºçš„æ•°ç»„çš„ä¸€ä¸ªæ—‹è½¬**ï¼Œè¾“å‡ºæ—‹è½¬æ•°ç»„çš„æœ€å°å…ƒç´ ã€‚ä¾‹å¦‚ï¼Œæ•°ç»„ `[3,4,5,1,2]` ä¸º `[1,2,3,4,5]` çš„ä¸€ä¸ªæ—‹è½¬ï¼Œè¯¥æ•°ç»„çš„æœ€å°å€¼ä¸º1ã€‚ 

ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼š[3,4,5,1,2]
è¾“å‡ºï¼š1
```

ç¤ºä¾‹ 2ï¼š

```
è¾“å…¥ï¼š[2,2,2,0,1]
è¾“å‡ºï¼š0
```

#### è§£æ³•ä¸€ ï¼ˆäºŒåˆ†æŸ¥æ‰¾ï¼‰

ç”±äºæ˜¯é€’å¢æ•°ç»„çš„æ—‹è½¬ï¼Œå³æ•°ç»„çš„å·¦è¾¹å¤§äºå³è¾¹ï¼Œä¸­é—´çš„äº¤æ¥å€¼å³ä¸ºæœ€å°çš„å…ƒç´ ï¼Œå¯ä»¥ç”¨äºŒåˆ†æŸ¥æ‰¾æ‰¾åˆ°è¿™ä¸ªå…ƒç´ ã€‚

äºŒåˆ†æŸ¥æ‰¾ä¸­é—´å…ƒç´ å¤§äºå³è¾¹ï¼Œä»£è¡¨æœ€å°å€¼èŒƒå›´åœ¨ä¸­é—´å…ƒç´ çš„å³è¾¹ï¼Œå‘å³ç¼©å°èŒƒå›´ï¼›ä¸­é—´å…ƒç´ å°äºå³è¾¹ï¼Œä»£è¡¨æœ€å°å€¼èŒƒå›´å°±åœ¨åŒ…æ‹¬ä¸­é—´å…ƒç´ ä¹‹å†…çš„å·¦è¾¹ï¼Œå‘å·¦ç¼©å°èŒƒå›´ï¼›ç›¸ç­‰çš„è¯ï¼Œç¼©å°å³è¾¹çš„èŒƒå›´ï¼Œé¿å…æ­»å¾ªç¯ã€‚

```java
// æ—¶é—´å¤æ‚åº¦O(logn)
public int minArray(int[] numbers) {
    int left = 0, right = numbers.length - 1;
    while(left < right) {
        // é˜²æ­¢æº¢å‡º
        int mid = left + (right - left) / 2;
        // å› ä¸ºæœ‰å¯èƒ½ä¸æ—‹è½¬ï¼Œè·Ÿå³è¾¹åˆ¤æ–­èƒ½åŒ¹é…è¿™ç§æƒ…å†µ
        // ä¸­é—´å…ƒç´ å¤§äºå³è¾¹ï¼Œä»£è¡¨æœ€å°å€¼èŒƒå›´åœ¨ä¸­é—´å…ƒç´ çš„å³è¾¹
        if (numbers[mid] > numbers[right]) {
            left = mid + 1;
        } else if (numbers[mid] < numbers[right]) {
            // ä¸­é—´å…ƒç´ å°äºå³è¾¹ï¼Œä»£è¡¨æœ€å°å€¼èŒƒå›´å°±åœ¨åŒ…æ‹¬ä¸­é—´å…ƒç´ ä¹‹å†…çš„å·¦è¾¹
            right = mid;
        } else {
            // ç›¸ç­‰çš„è¯ï¼Œç¼©å°å³è¾¹çš„èŒƒå›´ï¼Œé¿å…æ­»å¾ªç¯
            right--;
        }
    }
    return numbers[left];
}
```

å‡å¦‚æ˜¯åœ¨ä¸€ä¸ªå…ˆå¢é•¿åå‡å°çš„æ•°ç»„ä¸­æ‰¾åˆ°æœ€å¤§å€¼

```	java
äºŒåˆ†ä¸€æ¬¡æ‰¾åˆ°ä¸­ç‚¹ï¼Œå¦‚æœä¸­ç‚¹Array[mid]æ¯”Array[mid-1]å’ŒArray[mid+1]éƒ½å¤§ï¼Œé‚£ä¹ˆå°±è¿”å›midã€‚å¦åˆ™ï¼Œå¦‚æœArray[mid]>Array[mid-1], åˆ™æœ€å¤§å€¼åœ¨midå³è¾¹ï¼Œå¦‚æœ

Array[mid]>Array[mid+1], åˆ™æœ€å¤§å€¼åœ¨midå·¦è¾¹ã€‚ä¸æ–­è¿›è¡Œä¸‹å»ï¼Œç›´åˆ°æ‰¾åˆ°ä¸ºæ­¢ã€‚
```



### [12. çŸ©é˜µä¸­çš„è·¯å¾„](https://leetcode-cn.com/problems/ju-zhen-zhong-de-lu-jing-lcof/)

è¯·è®¾è®¡ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥åˆ¤æ–­åœ¨**ä¸€ä¸ªçŸ©é˜µä¸­æ˜¯å¦å­˜åœ¨ä¸€æ¡åŒ…å«æŸå­—ç¬¦ä¸²æ‰€æœ‰å­—ç¬¦çš„è·¯å¾„**ã€‚è·¯å¾„å¯ä»¥ä»çŸ©é˜µä¸­çš„ä»»æ„ä¸€æ ¼å¼€å§‹ï¼Œæ¯ä¸€æ­¥å¯ä»¥åœ¨çŸ©é˜µä¸­å‘å·¦ã€å³ã€ä¸Šã€ä¸‹ç§»åŠ¨ä¸€æ ¼ã€‚å¦‚æœä¸€æ¡è·¯å¾„ç»è¿‡äº†çŸ©é˜µçš„æŸä¸€æ ¼ï¼Œé‚£ä¹ˆè¯¥è·¯å¾„ä¸èƒ½å†æ¬¡è¿›å…¥è¯¥æ ¼å­ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¸‹é¢çš„3Ã—4çš„çŸ©é˜µä¸­åŒ…å«ä¸€æ¡å­—ç¬¦ä¸²â€œbfceâ€çš„è·¯å¾„ï¼ˆè·¯å¾„ä¸­çš„å­—æ¯ç”¨åŠ ç²—æ ‡å‡ºï¼‰ã€‚

```
[["a","b","c","e"],
["s","f","c","s"],
["a","d","e","e"]]
```

ä½†çŸ©é˜µä¸­ä¸åŒ…å«å­—ç¬¦ä¸²â€œabfbâ€çš„è·¯å¾„ï¼Œå› ä¸ºå­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦bå æ®äº†çŸ©é˜µä¸­çš„ç¬¬ä¸€è¡Œç¬¬äºŒä¸ªæ ¼å­ä¹‹åï¼Œè·¯å¾„ä¸èƒ½å†æ¬¡è¿›å…¥è¿™ä¸ªæ ¼å­ã€‚

ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼šboard = [["A","B","C","E"],["S","F","C","S"],["A","D","E","E"]], word = "ABCCED"
è¾“å‡ºï¼štrue
```

ç¤ºä¾‹ 2ï¼š

```
è¾“å…¥ï¼šboard = [["a","b"],["c","d"]], word = "abcd"
è¾“å‡ºï¼šfalse
```

**æç¤ºï¼š**

- `1 <= board.length <= 200`
- `1 <= board[i].length <= 200`

#### è§£æ³•ä¸€ ï¼ˆDFSï¼‰

DFSæ¨¡æ¿ï¼Œéå†æ¯ä¸ªè·¯å¾„çš„èµ·ç‚¹ï¼Œå¦‚æœæ ¼å­ä¸Šçš„å­—ç¬¦è·Ÿå¯¹åº”å­—ç¬¦ç›¸ç­‰ï¼Œå°±å¯ä»¥è¿›è¡Œä¸‰ä¸ªæ–¹å‘çš„å°è¯•ï¼Œç›´è‡³æš´åŠ›å°è¯•å®Œæ‰€æœ‰çš„è·¯å¾„æˆ–è€…ä¸­é€”æ‰¾åˆ°è·¯å¾„é€€å‡ºã€‚

```java
// æ–¹ä¾¿è®¿é—®
char[] word;
char[][] board;

public boolean exist(char[][] board, String word) {
    this.word = word.toCharArray();
    this.board = board;
    // å¯ä»¥ä»çŸ©é˜µçš„ä»»æ„ä¸€ä¸ªç‚¹å¼€å§‹ï¼Œæ‰€ä»¥å¯ä»¥åœ¨è¿™é‡Œè¿›è¡Œéå†
    for (int i = 0; i < board.length; i++) {
        for (int j = 0; j < board[0].length; j++) {
            if (dfs(i, j, 0)) {
                return true;
            }
        }
    }
    return false;
}

public boolean dfs(
    int i,      // ä¸‹æ ‡
    int j,      // ä¸‹æ ‡
    int len     // å·²ç»åŒ¹é…çš„é•¿åº¦
) {
    // è¶…è¿‡è¾¹ç•Œæˆ–è€…å¯¹åº”ä½ç½®å­—ç¬¦ä¸åŒ¹é…
    if (i < 0 || j < 0
        || i > board.length - 1
        || j > board[0].length - 1
        || word[len] != board[i][j]) {
        return false;
    }
    // ä»£è¡¨å·²ç»æ‰¾åˆ°å¯¹åº”çš„è·¯å¾„
    if (len == word.length - 1) {
        return true;
    }
    // é˜²æ­¢èµ°å›å¤´è·¯ï¼Œå›å¤´è·¯è·Ÿå°†è¦åŒ¹é…çš„å­—ç¬¦ç›¸ç­‰å°±ä¼šå‡ºé”™
    char tmp = board[i][j];
    board[i][j] = '/';
    // åˆ†åˆ«å¯¹åº”å››ç§æƒ…å†µ
    boolean res = dfs(i + 1, j, len + 1) || dfs(i - 1, j, len + 1)
        	   || dfs(i, j + 1, len + 1) || dfs(i, j - 1, len + 1);
    board[i][j] = tmp;
    return res;
}
```

### [13. æœºå™¨äººçš„è¿åŠ¨èŒƒå›´](https://leetcode-cn.com/problems/ji-qi-ren-de-yun-dong-fan-wei-lcof/)

åœ°ä¸Šæœ‰ä¸€ä¸ªmè¡Œnåˆ—çš„æ–¹æ ¼ï¼Œä»åæ ‡ `[0,0]` åˆ°åæ ‡ `[m-1,n-1]` ã€‚ä¸€ä¸ªæœºå™¨äººä»åæ ‡ `[0, 0] `çš„æ ¼å­å¼€å§‹ç§»åŠ¨ï¼Œå®ƒæ¯æ¬¡å¯ä»¥å‘å·¦ã€å³ã€ä¸Šã€ä¸‹ç§»åŠ¨ä¸€æ ¼ï¼ˆä¸èƒ½ç§»åŠ¨åˆ°æ–¹æ ¼å¤–ï¼‰ï¼Œä¹Ÿä¸èƒ½è¿›å…¥è¡Œåæ ‡å’Œåˆ—åæ ‡çš„æ•°ä½ä¹‹å’Œå¤§äºkçš„æ ¼å­ã€‚ä¾‹å¦‚ï¼Œå½“kä¸º18æ—¶ï¼Œæœºå™¨äººèƒ½å¤Ÿè¿›å…¥æ–¹æ ¼ [35, 37] ï¼Œå› ä¸º3+5+3+7=18ã€‚ä½†å®ƒä¸èƒ½è¿›å…¥æ–¹æ ¼ [35, 38]ï¼Œå› ä¸º3+5+3+8=19ã€‚è¯·é—®è¯¥æœºå™¨äººèƒ½å¤Ÿåˆ°è¾¾å¤šå°‘ä¸ªæ ¼å­ï¼Ÿ

ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼šm = 2, n = 3, k = 1
è¾“å‡ºï¼š3
```

ç¤ºä¾‹ 2ï¼š

```
è¾“å…¥ï¼šm = 3, n = 1, k = 0
è¾“å‡ºï¼š1
```

æç¤ºï¼š

- `1 <= n,m <= 100`
- `0 <= k <= 20`

#### è§£æ³•ä¸€ï¼ˆDFSï¼‰

DFSæ¨¡æ¿ï¼Œä»0, 0å¼€å§‹ï¼Œå¦‚æœè¯¥ä½ç½®æœ‰æ•ˆï¼Œå°±å¯ä»¥å°è¯•å››ä¸ªæ–¹å‘ï¼Œç›´è‡³æš´åŠ›å°è¯•å®Œæ‰€æœ‰æœ‰æ•ˆçš„æ ¼å­ã€‚

```java
// æ—¶é—´å¤æ‚åº¦O(MN)
// æ–¹ä¾¿è®¿é—®
int limit, m, n;
boolean[][] visited;
public int movingCount(int m, int n, int k) {
    this.limit = k;
    this.m = m;
    this.n = n;
    // ç”¨äºè®°å½•å·²ç»è®¿é—®çš„æ ¼å­
    this.visited = new boolean[m][n];
    return dfs(0, 0);
}
public int dfs(int i, int j){
    // è®¡ç®—è¡Œåæ ‡å’Œåˆ—åæ ‡çš„æ•°ä½ä¹‹å’Œ
    int k = 0, i1 = i, j1 = j;
    while(i1 != 0){
        k += (i1 % 10);
        i1 /= 10;
    }
    while(j1 != 0){
        k += (j1 % 10);
        j1 /= 10;
    }
    // ä¸‹æ ‡å‡ºç•Œæˆ–è€…æ˜¯å·²ç»è®¿é—®
    if(k > limit || i < 0 || j < 0 || i >= m || j >= n || visited[i][j]){
        return 0;
    }
    visited[i][j] = true;
    // å¯¹åº”å››ç§æƒ…å†µï¼Œå…¶å®é€šè¿‡å‘å³å’Œå‘ä¸‹ç§»åŠ¨ï¼Œè®¿é—®æ‰€æœ‰å¯è¾¾è§£ã€‚
    return dfs(i + 1, j) + dfs(i - 1, j) + dfs(i, j + 1) + dfs(i, j - 1) + 1;
}
```

#### è§£æ³•äºŒï¼ˆBFSï¼‰

ä½¿ç”¨BFSå¹¿åº¦ä¼˜å…ˆç®—æ³•å¥—æ¨¡æ¿å³å¯å®Œæˆã€‚åŸç†æ˜¯éå†é˜Ÿåˆ—é‡Œé¢çš„æ¯ä¸ªèŠ‚ç‚¹å¹¶å†å°†éå†èŠ‚ç‚¹å‘¨å›´çš„ç»“ç‚¹å…¥é˜Ÿï¼Œè¿™æ ·ä¸€åœˆä¸€åœˆçš„å¤„ç†å°±æ˜¯å¹¿åº¦ä¼˜å…ˆéå†ã€‚

```java
// æ—¶é—´å¤æ‚åº¦O(MN)
public int movingCount(int m, int n, int k) {
    // ç”¨äºè®°å½•å·²ç»è®¿é—®çš„æ ¼å­
    boolean[][] visited = new boolean[m][n];
    int res = 0;
    // åˆ›å»ºä¸€ä¸ªé˜Ÿåˆ—ç”¨äºä¿å­˜ä¸€ä¸ªèŠ‚ç‚¹å‘¨å›´çš„æ‰€æœ‰èŠ‚ç‚¹
    // åŸç†æ˜¯éå†é˜Ÿåˆ—é‡Œé¢çš„æ¯ä¸ªèŠ‚ç‚¹å¹¶å†å°†éå†èŠ‚ç‚¹å‘¨å›´çš„ç»“ç‚¹å…¥é˜Ÿ
    // è¿™æ ·ä¸€åœˆä¸€åœˆçš„å¤„ç†å°±æ˜¯å¹¿åº¦ä¼˜å…ˆéå†
    Queue<int[]> queue = new LinkedList<>();
    // åˆå§‹åŒ–åŠ å…¥ç¬¬ä¸€ä¸ªç»“ç‚¹
    queue.add(new int[]{0, 0});
    while (queue.size() > 0) {
        // å¼€å§‹å¤„ç†ç¬¬ä¸€ä¸ªèŠ‚ç‚¹
        int[] x = queue.poll();
        // è®¡ç®—è¡Œåæ ‡å’Œåˆ—åæ ‡çš„æ•°ä½ä¹‹å’Œ
        int i = x[0], j = x[1];
        int k1 = 0, i1 = i, j1 = j;
        while (i1 != 0) {
            k1 += (i1 % 10);
            i1 /= 10;
        }
        while (j1 != 0) {
            k1 += (j1 % 10);
            j1 /= 10;
        }
        // ä¸æ»¡è¶³æ¡ä»¶ï¼Œè·³è¿‡è¿™ä¸ªç»“ç‚¹
        if (i >= m || j >= n || i < 0 || j < 0 || k < k1 || visited[i][j]) continue;
        visited[i][j] = true;
        res++;
        // å°†èŠ‚ç‚¹å‘¨å›´çš„ä¸€åœˆçš„ç»“ç‚¹åŠ å…¥é˜Ÿåˆ—
        queue.add(new int[]{i + 1, j});
        queue.add(new int[]{i - 1, j});
        queue.add(new int[]{i, j + 1});
        queue.add(new int[]{i, j - 1});
    }
    return res;
}
```

### [14. å‰ªç»³å­](https://leetcode-cn.com/problems/jian-sheng-zi-lcof/)

ç»™ä½ ä¸€æ ¹é•¿åº¦ä¸º `n` çš„ç»³å­ï¼Œè¯·æŠŠç»³å­å‰ªæˆæ•´æ•°é•¿åº¦çš„ `m` æ®µï¼ˆmã€néƒ½æ˜¯æ•´æ•°ï¼Œn>1å¹¶ä¸”m>1ï¼‰ï¼Œæ¯æ®µç»³å­çš„é•¿åº¦è®°`k[0],k[1]...k[m-1]` ã€‚è¯·é—® `k[0]*k[1]*...*k[m-1]` å¯èƒ½çš„æœ€å¤§ä¹˜ç§¯æ˜¯å¤šå°‘ï¼Ÿä¾‹å¦‚ï¼Œå½“ç»³å­çš„é•¿åº¦æ˜¯8æ—¶ï¼Œæˆ‘ä»¬æŠŠå®ƒå‰ªæˆé•¿åº¦åˆ†åˆ«ä¸º2ã€3ã€3çš„ä¸‰æ®µï¼Œæ­¤æ—¶å¾—åˆ°çš„æœ€å¤§ä¹˜ç§¯æ˜¯18ã€‚

ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥: 2
è¾“å‡º: 1
è§£é‡Š: 2 = 1 + 1, 1 Ã— 1 = 1
```

ç¤ºä¾‹ 2:

```
è¾“å…¥: 10
è¾“å‡º: 36
è§£é‡Š: 10 = 3 + 3 + 4, 3 Ã— 3 Ã— 4 = 36
```

**æç¤ºï¼š**

- `2 <= n <= 58`

#### è§£æ³•ä¸€ï¼ˆåŠ¨æ€è§„åˆ’ï¼‰

1. åˆ›å»ºä¸€ä¸ªdpæ•°ç»„ï¼Œä¸‹æ ‡ä¸ºnçš„å…ƒç´ çš„å€¼ä»£è¡¨å¯¹åº”é•¿åº¦ç»³å­åˆ†è§£ä¹‹åçš„æœ€å¤§ä¹˜ç§¯
2. å·²çŸ¥ç¬¬2é¡¹å’Œç¬¬3é¡¹å€¼
3. çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¹Ÿå®¹æ˜“æ¨å‡ºã€‚è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯å› ä¸ºdp[x]æœ‰å¯èƒ½å°äºxï¼Œæ¯”å¦‚dp[3] = 2 < 3ï¼Œæ‰€ä»¥å°±æœ‰ä¸‹é¢ä»£ç ä¸­çš„åˆ¤æ–­æ“ä½œã€‚

è‡ªåº•å‘ä¸Šå³å¯æ¨å‡ºå…¨éƒ¨å€¼ã€‚

```java
// æ—¶é—´å¤æ‚åº¦O(n * n)
public int cuttingRope(int n) {
    // dpæ•°ç»„ï¼Œä¸‹æ ‡ä¸ºnçš„å…ƒç´ çš„å€¼ä»£è¡¨å¯¹åº”é•¿åº¦ç»³å­åˆ†è§£ä¹‹åçš„æœ€å¤§ä¹˜ç§¯
    int[] dp = new int[n + 1];
    dp[2] = 1;
    if(n > 2)
        dp[3] = 2;
    for(int i = 4; i <= n; i++){
        // å¼€å§‹å‰ªç»³å­ï¼Œå°è¯•æ¯ä¸€ä¸ªé•¿åº¦
        for(int j = 2; j < i; j++){
            // ä»–çš„æœ€ä¹˜ç§¯å°±æ˜¯ä»–
            // è¢«å‰ªä¹‹åçš„æœ€å¤§ä¹˜ç§¯å’Œå‡æ‰çš„é•¿åº¦ç›¸ä¹˜
            // å’Œè¢«å‰ªä¹‹åçš„é•¿åº¦å’Œå‡æ‰çš„é•¿åº¦ç›¸ä¹˜ä¸­çš„æœ€å¤§å€¼
            // å› ä¸ºdp[x]æœ‰å¯èƒ½å°äºxï¼Œæ¯”å¦‚dp[3] = 2 < 3
            dp[i] = Math.max(dp[i], Math.max(dp[i - j] * j, (i - j) * j));
        }
    }
    return dp[n];
}
```

#### è§£æ³•äºŒï¼ˆè´ªå¿ƒç®—æ³•ï¼‰

æ‰¾è§„å¾‹ä¹‹åæˆ‘ä»¬å¯ä»¥å‘ç°**ä¸ºä½¿ä¹˜ç§¯æœ€å¤§ï¼Œåªæœ‰é•¿åº¦ä¸º 2 å’Œ 3 çš„ç»³å­ä¸åº”å†åˆ‡åˆ†ï¼Œä¸” 3 æ¯” 2 æ›´ä¼˜**ï¼Œç°å°†nè½¬ä¸º3çš„å€æ•°ï¼Œç„¶ååœ¨è¿›è¡Œå¾ªç¯å¤„ç†ã€‚

æ‰€è°“è´ªå¿ƒç®—æ³•æ˜¯æŒ‡ï¼Œåœ¨å¯¹é—®é¢˜æ±‚è§£æ—¶ï¼Œæ€»æ˜¯åšå‡ºåœ¨å½“å‰çœ‹æ¥æ˜¯æœ€å¥½çš„é€‰æ‹©

```java
// æ—¶é—´å¤æ‚åº¦O(n)
// ä¸ºä½¿ä¹˜ç§¯æœ€å¤§ï¼Œåªæœ‰é•¿åº¦ä¸º 2 å’Œ 3 çš„ç»³å­ä¸åº”å†åˆ‡åˆ†ï¼Œä¸” 3 æ¯” 2 æ›´ä¼˜
public int cuttingRope(int n) {
    int res = 1;
    // å°†nè½¬ä¸º3çš„å€æ•°ï¼Œæ–¹ä¾¿åé¢å¤„ç†
    // æ¯”3çš„å€æ•°å¤§1ï¼Œ
    // æ­¤æ—¶è¦å°†nè½¬ä¸º3çš„å€æ•°å¹¶è®©ä¹˜ç§¯æœ€å¤§
    // æœ€å¥½çš„åŠæ³•æ˜¯å‡æ‰4,4çš„æœ€å¤§ä¹˜ç§¯ä¸º4
    if(n % 3 == 1){
        res = 4;
        n -= 4;
    }
    // æ¯”3çš„å€æ•°å¤§2ï¼Œç›´æ¥å‡2å¹¶ä¹˜2
    else if(n % 3 == 2){
        res = 2;
        n -= 2;
    }
    // æ­¤æ—¶æ˜¯3çš„å€æ•°
    while(n > 0){
        res *= 3;
        n -= 3;
    }
    return res;
}
```

### [15. äºŒè¿›åˆ¶ä¸­1çš„ä¸ªæ•°](https://leetcode-cn.com/problems/er-jin-zhi-zhong-1de-ge-shu-lcof/)

è¯·å®ç°ä¸€ä¸ªå‡½æ•°ï¼Œè¾“å…¥ä¸€ä¸ªæ•´æ•°ï¼Œè¾“å‡ºè¯¥æ•°äºŒè¿›åˆ¶è¡¨ç¤ºä¸­ 1 çš„ä¸ªæ•°ã€‚ä¾‹å¦‚ï¼ŒæŠŠ 9 è¡¨ç¤ºæˆäºŒè¿›åˆ¶æ˜¯ 1001ï¼Œæœ‰ 2 ä½æ˜¯ 1ã€‚å› æ­¤ï¼Œå¦‚æœè¾“å…¥ 9ï¼Œåˆ™è¯¥å‡½æ•°è¾“å‡º 2ã€‚

ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼š00000000000000000000000000001011
è¾“å‡ºï¼š3
è§£é‡Šï¼šè¾“å…¥çš„äºŒè¿›åˆ¶ä¸² 00000000000000000000000000001011 ä¸­ï¼Œå…±æœ‰ä¸‰ä½ä¸º '1'ã€‚
```

ç¤ºä¾‹ 2ï¼š

```
è¾“å…¥ï¼š00000000000000000000000010000000
è¾“å‡ºï¼š1
è§£é‡Šï¼šè¾“å…¥çš„äºŒè¿›åˆ¶ä¸² 00000000000000000000000010000000 ä¸­ï¼Œå…±æœ‰ä¸€ä½ä¸º '1'ã€‚
```

ç¤ºä¾‹ 3ï¼š

```
è¾“å…¥ï¼š11111111111111111111111111111101
è¾“å‡ºï¼š31
è§£é‡Šï¼šè¾“å…¥çš„äºŒè¿›åˆ¶ä¸² 11111111111111111111111111111101 ä¸­ï¼Œå…±æœ‰ 31 ä½ä¸º '1'ã€‚
```

#### è§£æ³•ä¸€ï¼ˆä½è¿ç®—ï¼‰

è·Ÿ 1 è¿›è¡Œä¸è¿ç®—ï¼Œå¹¶è®°å½•ç»“æœã€‚

```java
public int hammingWeight(int n) {
    int res = 0;
    while(n != 0){
        // è¿›è¡Œä¸è¿ç®—
        res += n & 1;
        // æ— ç¬¦å·å³ç§»ä¸€ä½
        n >>>= 1;
    }
    return res;
}
```

### [16. æ•°å€¼çš„æ•´æ•°æ¬¡æ–¹](https://leetcode-cn.com/problems/shu-zhi-de-zheng-shu-ci-fang-lcof/)

å®ç°å‡½æ•°double Power(double base, int exponent)ï¼Œæ±‚baseçš„exponentæ¬¡æ–¹ã€‚ä¸å¾—ä½¿ç”¨åº“å‡½æ•°ï¼ŒåŒæ—¶ä¸éœ€è¦è€ƒè™‘å¤§æ•°é—®é¢˜ã€‚

ç¤ºä¾‹ 1:

```
è¾“å…¥: 2.00000, 10
è¾“å‡º: 1024.00000
```

ç¤ºä¾‹ 2:

```
è¾“å…¥: 2.10000, 3
è¾“å‡º: 9.26100
```

ç¤ºä¾‹ 3:

```
è¾“å…¥: 2.00000, -2
è¾“å‡º: 0.25000
è§£é‡Š: 2-2 = 1/22 = 1/4 = 0.25
```

è¯´æ˜:

- -100.0 < *x* < 100.0
- *n* æ˜¯ 32 ä½æœ‰ç¬¦å·æ•´æ•°ï¼Œå…¶æ•°å€¼èŒƒå›´æ˜¯ [âˆ’231, 231 âˆ’ 1] ã€‚


### [20. è¡¨ç¤ºæ•°å€¼çš„å­—ç¬¦ä¸²](https://leetcode-cn.com/problems/biao-shi-shu-zhi-de-zi-fu-chuan-lcof/)

è¯·å®ç°ä¸€ä¸ªå‡½æ•°ç”¨æ¥åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦è¡¨ç¤ºæ•°å€¼ï¼ˆåŒ…æ‹¬æ•´æ•°å’Œå°æ•°ï¼‰ã€‚ä¾‹å¦‚ï¼Œå­—ç¬¦ä¸²"+100"ã€"5e2"ã€"-123"ã€"3.1416"ã€"-1E-16"ã€"0123"éƒ½è¡¨ç¤ºæ•°å€¼ï¼Œä½†"12e"ã€"1a3.14"ã€"1.2.3"ã€"+-5"åŠ"12e+5.4"éƒ½ä¸æ˜¯ã€‚

#### è§£æ³•ä¸€ï¼ˆå¸¸è§„ï¼‰

åˆ¤æ–­å››ç§ç¬¦å·çš„å„ä¸ªæƒ…å†µï¼Œä»å‰å¾€åå¼€å§‹å¼€å§‹åˆ¤æ–­ã€‚

```java
public boolean isNumber(String s) {
    if (s == null || s.length() == 0) {
        return false;
    }
    // æ ‡è®°æ˜¯å¦é‡åˆ°æ•°ä½ã€å°æ•°ç‚¹ã€Eï¼Œå› ä¸ºæ­£è´Ÿå·æœ€å¥½åˆ¤æ–­ï¼Œåªæœ‰ä¸¤ç§æƒ…å†µ
    // æ‰€ä»¥ä¹Ÿä¸éœ€è¦é¢å¤–å®šä¹‰å˜é‡
    boolean hasNum = false, hasDot = false, hasE = false;
    // leetcodeç»™çš„caseä¸­å­˜åœ¨ç©ºæ ¼ï¼Œå»æ‰
    char[] str = s.trim().toCharArray();
    // éå†å­—ç¬¦ä¸²ï¼Œè·Ÿå·²ç»éå†çš„æƒ…å†µæ¯”è¾ƒ
    for (int i = 0; i < str.length; i++) {
        // å› ä¸ºæ­£è´Ÿå·æœ€å¥½åˆ¤æ–­ï¼Œåªæœ‰ä¸¤ç§æƒ…å†µï¼Œæ‰€ä»¥ä¹Ÿä¸éœ€è¦é¢å¤–å®šä¹‰å˜é‡
        if (str[i] == '-' || str[i] == '+') {
            // 1. æ­£è´Ÿå·åªå¯èƒ½å‡ºç°åœ¨ç¬¬ä¸€ä¸ªä½ç½® 2. å‡ºç°åœ¨ e çš„åé¢ä¸€ä¸ªä½ç½®
            if (i != 0 && str[i - 1] != 'e' && str[i - 1] != 'E') {
                return false;
            }
        }
        // åˆ¤æ–­æ•°å­—
        else if (str[i] >= '0' && str[i] <= '9') {
            hasNum = true;
        }
        // åˆ¤æ–­å°æ•°ç‚¹
        else if (str[i] == '.') {
            // ä¸¤ç§æƒ…å†µ 1. å°æ•°ç‚¹åªèƒ½æœ‰ä¸€ä¸ª 2. eçš„åé¢ä¸èƒ½æœ‰å°æ•°ç‚¹
            if (hasDot || hasE) {
                return false;
            }
            // æ ‡è®°å·²ç»é‡åˆ°ä¸€ä¸ªå°æ•°ç‚¹
            hasDot = true;
        }
        // åˆ¤æ–­e
        else if (str[i] == 'e' || str[i] == 'E') {
            // ä¸‰ç§æƒ…å†µ 1. eåªèƒ½æœ‰ä¸€ä¸ª 2. eå‰é¢å¿…é¡»æœ‰æ•´æ•° 3. eçš„åé¢ä¹Ÿå¿…é¡»æ˜¯ä¸€ä¸ªæ•´æ•°
            if (!hasNum || hasE) {
                return false;
            }
            // æ ‡è®°å·²ç»é‡åˆ°ä¸€ä¸ªe
            hasE = true;
            // é‡ç½®isNumï¼Œå› ä¸ºeä¹‹åä¹Ÿå¿…é¡»æ¥ä¸Šæ•´æ•°
            hasNum = false;
        }
        // å…¶å®ƒæƒ…å†µå‡ä¸ºä¸åˆæ³•å­—ç¬¦
        else {
            return false;
        }
    }
    // ç»“å°¾å¿…é¡»ä¸ºæ•°å­—
    return hasNum;
}
```

#### è§£æ³•äºŒï¼ˆçŠ¶æ€æœºï¼‰

è‡ªåŠ¨æœºé©±åŠ¨çš„ç¼–ç¨‹ï¼Œå¯ä»¥è¢«çœ‹åšä¸€ç§æš´åŠ›æšä¸¾æ–¹æ³•çš„å»¶ä¼¸ã€‚

* å…ˆå®šä¹‰çŠ¶æ€é›†åˆï¼Œä¸€ä¸ªå¸¸ç”¨çš„æŠ€å·§æ˜¯ï¼Œç”¨`å½“å‰å¤„ç†åˆ°å­—ç¬¦ä¸²çš„å“ªä¸ªéƒ¨åˆ†`å½“ä½œçŠ¶æ€çš„è¡¨è¿°ã€‚
* å†æ‰¾å‡ºåˆå§‹çŠ¶æ€å’Œæ¥å—çŠ¶æ€
* æœ€åå®šä¹‰è½¬ç§»è§„åˆ™

```java
public boolean isNumber(String s) {
    Map[] states = {
        // å®šä¹‰çŠ¶æ€é›†åˆå’Œè½¬ç§»è§„åˆ™
        new HashMap<>() {{ put(' ', 0); put('s', 1); put('d', 2); put('.', 4); }}, // 0.
        new HashMap<>() {{ put('d', 2); put('.', 4); }},                           // 1.
        new HashMap<>() {{ put('d', 2); put('.', 3); put('e', 5); put(' ', 8); }}, // 2.
        new HashMap<>() {{ put('d', 3); put('e', 5); put(' ', 8); }},              // 3.
        new HashMap<>() {{ put('d', 3); }},                                        // 4.
        new HashMap<>() {{ put('s', 6); put('d', 7); }},                           // 5.
        new HashMap<>() {{ put('d', 7); }},                                        // 6.
        new HashMap<>() {{ put('d', 7); put(' ', 8); }},                           // 7.
        new HashMap<>() {{ put(' ', 8); }}                                         // 8.
    };
    // åˆå§‹çŠ¶æ€
    int p = 0;
    char t;
    for(char c : s.toCharArray()) {
        if(c >= '0' && c <= '9') t = 'd';
        else if(c == '+' || c == '-') t = 's';
        else if(c == 'e' || c == 'E') t = 'e';
        else if(c == '.' || c == ' ') t = c;
        else t = '?';
        if(!states[p].containsKey(t)) return false;
        p = (int)states[p].get(t);
    }
    // æ¥å—çŠ¶æ€
    return p == 2 || p == 3 || p == 7 || p == 8;
}
```

### [21. è°ƒæ•´æ•°ç»„é¡ºåºä½¿å¥‡æ•°ä½äºå¶æ•°å‰é¢](https://leetcode-cn.com/problems/diao-zheng-shu-zu-shun-xu-shi-qi-shu-wei-yu-ou-shu-qian-mian-lcof/)

è¾“å…¥ä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œå®ç°ä¸€ä¸ªå‡½æ•°æ¥è°ƒæ•´è¯¥æ•°ç»„ä¸­æ•°å­—çš„é¡ºåºï¼Œä½¿å¾—æ‰€æœ‰å¥‡æ•°ä½äºæ•°ç»„çš„å‰åŠéƒ¨åˆ†ï¼Œæ‰€æœ‰å¶æ•°ä½äºæ•°ç»„çš„ååŠéƒ¨åˆ†ã€‚

**ç¤ºä¾‹ï¼š**

```
è¾“å…¥ï¼šnums = [1,2,3,4]
è¾“å‡ºï¼š[1,3,2,4] 
æ³¨ï¼š[3,1,2,4] ä¹Ÿæ˜¯æ­£ç¡®çš„ç­”æ¡ˆä¹‹ä¸€ã€‚
```

**æç¤ºï¼š**

1. `1 <= nums.length <= 50000`
2. `1 <= nums[i] <= 10000`

#### è§£æ³•ä¸€ï¼ˆåŒæŒ‡é’ˆï¼‰

åœ¨å¤´å’Œå°¾åˆ†åˆ«è®¾ç½®ä¸€ä¸ªæŒ‡é’ˆï¼Œå¤´æŒ‡é’ˆæŒ‡å‘å¥‡æ•°åˆ™åç§»ï¼Œå°¾æŒ‡é’ˆæŒ‡å‘å¶æ•°åˆ™å‰ç§»ï¼Œäº¤æ¢ã€‚

```java
public int[] exchange(int[] nums) {
    // åŒæŒ‡é’ˆ
    int i = 0, j = nums.length - 1;
    while (i < j) {
        // æ‰¾åˆ°ä¸€ä¸ªå¶æ•°
        while (i < j && nums[i] % 2 == 1) {
            i++;
        }
        // æ‰¾åˆ°ä¸€ä¸ªå¥‡æ•°
        while (i < j && nums[j] % 2 == 0) {
            j--;
        }
        // äº¤æ¢
        int tmp = nums[i];
        nums[i] = nums[j];
        nums[j] = tmp;
    }
    return nums;
}
```

### [22. é“¾è¡¨ä¸­å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹](https://leetcode-cn.com/problems/lian-biao-zhong-dao-shu-di-kge-jie-dian-lcof/)

è¾“å…¥ä¸€ä¸ªé“¾è¡¨ï¼Œè¾“å‡ºè¯¥é“¾è¡¨ä¸­å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹ã€‚ä¸ºäº†ç¬¦åˆå¤§å¤šæ•°äººçš„ä¹ æƒ¯ï¼Œæœ¬é¢˜ä»1å¼€å§‹è®¡æ•°ï¼Œå³é“¾è¡¨çš„å°¾èŠ‚ç‚¹æ˜¯å€’æ•°ç¬¬1ä¸ªèŠ‚ç‚¹ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªé“¾è¡¨æœ‰6ä¸ªèŠ‚ç‚¹ï¼Œä»å¤´èŠ‚ç‚¹å¼€å§‹ï¼Œå®ƒä»¬çš„å€¼ä¾æ¬¡æ˜¯1ã€2ã€3ã€4ã€5ã€6ã€‚è¿™ä¸ªé“¾è¡¨çš„å€’æ•°ç¬¬3ä¸ªèŠ‚ç‚¹æ˜¯å€¼ä¸º4çš„èŠ‚ç‚¹ã€‚

**ç¤ºä¾‹ï¼š**

```
ç»™å®šä¸€ä¸ªé“¾è¡¨: 1->2->3->4->5, å’Œ k = 2.

è¿”å›é“¾è¡¨ 4->5.
```

#### è§£æ³•ä¸€ï¼ˆåŒæŒ‡é’ˆï¼‰

ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆï¼Œç¬¬ä¸€ä¸ªæŒ‡é’ˆå…ˆèµ° k æ­¥ï¼Œç„¶åä¸¤ä¸ªä¸€èµ·èµ°ï¼Œç­‰å¿«æŒ‡é’ˆåˆ°ç»“å°¾çš„æ—¶å€™æ…¢æŒ‡é’ˆæŒ‡å‘å€’æ•°ç¬¬kä¸ªç»“ç‚¹ã€‚

```java
public ListNode getKthFromEnd(ListNode head, int k) {
    // åŒæŒ‡é’ˆ
    ListNode slow = head, fast = head;
    // å¿«æŒ‡é’ˆå…ˆåå€’æ•°çš„kä¸ª
    for (int i = 0; i < k; i++) {
        fast = fast.next;
    }
    // å¿«æŒ‡é’ˆåˆ°è¾¾å°¾éƒ¨ä¹‹åï¼Œæ…¢æŒ‡é’ˆæŒ‡çš„å°±æ˜¯å€’æ•°ç¬¬Kä¸ª
    while (fast != null) {
        slow = slow.next;
        fast = fast.next;
    }
    return slow;
}
```

### [24. åè½¬é“¾è¡¨](https://leetcode-cn.com/problems/fan-zhuan-lian-biao-lcof/)

å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œè¾“å…¥ä¸€ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹ï¼Œåè½¬è¯¥é“¾è¡¨å¹¶è¾“å‡ºåè½¬åé“¾è¡¨çš„å¤´èŠ‚ç‚¹ã€‚

ç¤ºä¾‹:

```
è¾“å…¥: 1->2->3->4->5->NULL
è¾“å‡º: 5->4->3->2->1->NULL
```

é™åˆ¶ï¼š

```
0 <= èŠ‚ç‚¹ä¸ªæ•° <= 5000
```

#### è§£æ³•ä¸€ï¼ˆä¸‰æŒ‡é’ˆï¼‰

å®šä¹‰**ä¸‰ä¸ªæŒ‡é’ˆä¸€ä¸ªåœ¨å‰ä¸­å**ï¼Œæ¥ä¸‹æ¥ä¸­æŒ‡é’ˆæŒ‡å‘å‰æŒ‡é’ˆåè½¬ï¼Œå‰æŒ‡é’ˆæŒ‡å‘ä¸­æŒ‡é’ˆï¼Œä¸­æŒ‡é’ˆæŒ‡å‘åæŒ‡é’ˆï¼ŒåæŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªæŒ‡é’ˆï¼Œå¾ªç¯ã€‚

```java

public ListNode reverseList(ListNode head) {
    // å®šä¹‰ä¸¤ä¸ªæŒ‡é’ˆä¸€ä¸ªåœ¨å‰ä¸€ä¸ªåœ¨å
    ListNode p1 = null, p2 = head;
    while(p2 != null){
        // ä¸´æ—¶æŒ‡é’ˆï¼Œä¿å­˜åæŒ‡é’ˆçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
        // ä¸ä¿å­˜çš„è¯äº¤æ¢ä¹‹åå°±æ‰¾ä¸åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹äº†
        ListNode p3 = p2.next;
        // åè½¬
        p2.next = p1;
        // å‰è¿›
        p1 = p2;
        // å‰è¿›
        p2 = p3;
    }
    return p1;
}
```

#### è§£æ³•äºŒï¼ˆé€’å½’ï¼‰

é€’å½’å…¶å®å°±æ˜¯æ ˆï¼Œåˆ©ç”¨å…¥æ ˆé¡ºåºï¼Œå‡ºæ ˆé€†åºå³å¯äº¤æ¢ï¼Œ**å…¥æ ˆä¿å­˜ä¸€ä¸ªç›¸é‚»çš„èŠ‚ç‚¹ï¼Œå‡ºæ ˆçš„æ—¶å€™åˆ©ç”¨é‚£ä¸ªç›¸é‚»çš„èŠ‚ç‚¹å’Œå…¥å‚èŠ‚ç‚¹å³å¯å®Œæˆåè½¬**ã€‚

```java
ListNode newHead;

public ListNode reverseList2(ListNode head) {
    // é“¾è¡¨ä¸ºç©ºç›´æ¥è¿”å›
    if (head == null) {
        return head;
    }
    // å†…éƒ¨åè½¬
    re(head);
    // åè½¬ä¹‹åçš„å°¾çš„æŒ‡é’ˆä¸ä¼šåè½¬
    // ä¼šæ„æˆç¯ï¼Œæ‰‹åŠ¨å¸®ä»–ç½®ä¸ºç©º
    head.next = null;
    return newHead;
}

public void re(ListNode head) {
    if (head.next == null) {
        // ä»£è¡¨åˆ°è¾¾é“¾è¡¨å°¾ï¼Œè®¾ç½®ä¸ºæ–°çš„å¤´
        newHead = head;
        return;
    }
    // å…¥æ ˆæ˜¯é¡ºåºçš„ï¼Œå‡ºæ ˆå°±æ˜¯ååº
    // è¦äº¤æ¢ï¼Œè‚¯å®šè¦ä¸¤ä¸ªå€¼ï¼Œå·²ç»æœ‰ä¸€ä¸ªheadï¼Œ
    // ä¸‹ä¸€ä¸ªå€¼head.nextæœ€æ–¹ä¾¿
    ListNode tmp = head.next;
    // å…¥æ ˆ
    reverseList(head.next);
    // å‡ºæ ˆï¼Œå°†æŒ‡é’ˆäº¤æ¢
    tmp.next = head;
}
```

### [25. åˆå¹¶ä¸¤ä¸ªæ’åºçš„é“¾è¡¨](https://leetcode-cn.com/problems/he-bing-liang-ge-pai-xu-de-lian-biao-lcof/)

è¾“å…¥ä¸¤ä¸ªé€’å¢æ’åºçš„é“¾è¡¨ï¼Œåˆå¹¶è¿™ä¸¤ä¸ªé“¾è¡¨å¹¶ä½¿æ–°é“¾è¡¨ä¸­çš„èŠ‚ç‚¹ä»ç„¶æ˜¯é€’å¢æ’åºçš„ã€‚

ç¤ºä¾‹1ï¼š

```
è¾“å…¥ï¼š1->2->4, 1->3->4
è¾“å‡ºï¼š1->1->2->3->4->4
```

é™åˆ¶ï¼š

```
0 <= é“¾è¡¨é•¿åº¦ <= 1000
```

#### è§£æ³•ä¸€ï¼ˆåŒæŒ‡é’ˆï¼‰

å› æ­¤å®¹æ˜“æƒ³åˆ°ä½¿ç”¨åŒæŒ‡é’ˆéå†ä¸¤é“¾è¡¨ï¼Œæ ¹æ®å€¼å¤§å°å…³ç³»ç¡®å®šèŠ‚ç‚¹æ·»åŠ é¡ºåºï¼Œä¸¤èŠ‚ç‚¹æŒ‡é’ˆäº¤æ›¿å‰è¿›ï¼Œç›´è‡³éå†å®Œæ¯•

```java
public ListNode mergeTwoLists(ListNode l1, ListNode l2) {
    // åˆ›å»ºä¸€ä¸ªé“¾è¡¨
    ListNode head = new Li			stNode();
    ListNode p = head;
    while(l1 != null && l2 != null){
        // æ ¹æ®å¤§å°ï¼Œé€‰æ‹©ç›¸åº”çš„æ’å…¥åˆ°æ–°é“¾è¡¨
        if(l1.val < l2.val){
            p.next = l1;
            l1 = l1.next;
        }else{
            p.next = l2;
            l2 = l2.next;
        }
        // å‰è¿›ï¼
        p = p.next;
    }
    // æ·»åŠ æœªæ¯”è¾ƒå®Œæˆçš„
    p.next = (l1 == null ? l2 : l1);
    // å¤´ç»“ç‚¹ä¸ºç©ºï¼Œç”¨æ¥è¾…åŠ©è¿ç®—
    return head.next;
}
```

#### è§£æ³•äºŒï¼ˆé€’å½’ï¼‰

é€’å½’å°±æ˜¯æ ˆï¼Œåˆ©ç”¨æ ˆã€‚å‡ºæ ˆçš„æ—¶å€™å¼€å§‹æ„å»ºé“¾è¡¨ï¼Œä»å°¾å‘å‰ã€‚

```java
public ListNode mergeTwoLists(ListNode l1, ListNode l2) {
    // ä»–å®Œäº†ä¸ä»£è¡¨å…¶ä»–äººå®Œäº†
    if (l1 == null) {
        return l2;
    }
    // ä»–å®Œäº†ä¸ä»£è¡¨å…¶ä»–äººå®Œäº†
    if (l2 == null) {
        return l1;
    }
    // å‡ºæ ˆçš„æ—¶å€™å¼€å§‹æ„å»ºé“¾è¡¨ï¼Œä»å°¾å‘å‰
    if (l1.val < l2.val) {
        l1.next = mergeTwoLists(l1.next, l2);
        return l1;
    } else {
        l2.next = mergeTwoLists(l1, l2.next);
        return l2;
    }
}
```

### [26. æ ‘çš„å­ç»“æ„](https://leetcode-cn.com/problems/shu-de-zi-jie-gou-lcof/)

è¾“å…¥ä¸¤æ£µäºŒå‰æ ‘Aå’ŒBï¼Œåˆ¤æ–­Bæ˜¯ä¸æ˜¯Açš„å­ç»“æ„ã€‚(çº¦å®šç©ºæ ‘ä¸æ˜¯ä»»æ„ä¸€ä¸ªæ ‘çš„å­ç»“æ„)

Bæ˜¯Açš„å­ç»“æ„ï¼Œ å³ Aä¸­æœ‰å‡ºç°å’ŒBç›¸åŒçš„ç»“æ„å’ŒèŠ‚ç‚¹å€¼ã€‚

ä¾‹å¦‚:
ç»™å®šçš„æ ‘ A:

```
   3
  / \
  4  5
 / \
1   2
```

ç»™å®šçš„æ ‘ Bï¼š

```
  4 
 /
1
```

è¿”å› trueï¼Œå› ä¸º B ä¸ A çš„ä¸€ä¸ªå­æ ‘æ‹¥æœ‰ç›¸åŒçš„ç»“æ„å’ŒèŠ‚ç‚¹å€¼ã€‚

ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼šA = [1,2,3], B = [3,1]
è¾“å‡ºï¼šfalse
```

ç¤ºä¾‹ 2ï¼š

```
è¾“å…¥ï¼šA = [3,4,5,1,2], B = [4,1]
è¾“å‡ºï¼štrue
```

é™åˆ¶ï¼š

```
0 <= èŠ‚ç‚¹ä¸ªæ•° <= 10000
```

#### è§£æ³•ä¸€ï¼ˆé€’å½’ï¼‰

**å‰åºéå†**æ ‘Aä¸­çš„æ¯ä¸ªèŠ‚ç‚¹Naä½œä¸ºç›¸å¯¹æ ¹èŠ‚ç‚¹ï¼Œåˆ¤æ–­æ ‘Aä¸­ä»¥Naä¸ºæ ¹èŠ‚ç‚¹çš„å­æ ‘æ˜¯å¦åŒ…å«Bæ ‘ï¼Œæ¯æ¬¡åˆ¤æ–­çš„æ—¶å€™ä½¿ç”¨dfsç®—æ³•å°†ä¼šéå†åˆ°æ ‘åº•ï¼Œé€’å½’æ¯”è¾ƒå…¶å·¦å³å­æ ‘æ˜¯å¦å¯¹åº”ç›¸ç­‰ã€‚

```java
public boolean isSubStructure(TreeNode A, TreeNode B) {
    // è¿‡æ»¤ç‰¹æ®Šæ ¼å¼
    if(A == null || B == null){
        return false;
    }
    // é¦–å…ˆåœ¨ç›¸å¯¹æ ¹èŠ‚ç‚¹åˆ¤æ–­ä¸€æ¬¡ï¼Œç„¶ååˆ†åˆ«é€’å½’éå†å…¶å·¦å³å†ç»§ç»­åˆ¤æ–­
    return dfs(A, B) || isSubStructure(A.left, B) || isSubStructure(A.right, B);
}
boolean dfs(TreeNode A, TreeNode B) {
    // å­ç»“æ„å·²ç»åŒ¹é…å®Œæˆï¼Œè¿”å›true
    if(B == null) return true;
    // å­ç»“æ„æ²¡æœ‰å®Œæˆï¼Œä½†æ˜¯æ ‘å·²ç»éå†å®Œæˆäº†
    if(A == null) return false;
    // åˆ¤æ–­å…¶å€¼æ˜¯å¦ç›¸ç­‰ï¼Œåœ¨é€’å½’åˆ¤æ–­å…¶å­å¯¹åº”å·¦å³æ˜¯å¦èƒ½åŒ¹é…ä¸Š
    return A.val == B.val && dfs(A.left, B.left) && dfs(A.right, B.right);
}
```

### [27. äºŒå‰æ ‘çš„é•œåƒ](https://leetcode-cn.com/problems/er-cha-shu-de-jing-xiang-lcof/)

è¯·å®Œæˆä¸€ä¸ªå‡½æ•°ï¼Œè¾“å…¥ä¸€ä¸ªäºŒå‰æ ‘ï¼Œè¯¥å‡½æ•°è¾“å‡ºå®ƒçš„é•œåƒã€‚

```
     4
   /   \
  2     7
 / \   / \
1   3 6   9
```

é•œåƒè¾“å‡ºï¼š

```
     4
   /   \
  7     2
 / \   / \
9   6 3   1
```

ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼šroot = [4,2,7,1,3,6,9]
è¾“å‡ºï¼š[4,7,2,9,6,3,1]
```

é™åˆ¶ï¼š

```
0 <= èŠ‚ç‚¹ä¸ªæ•° <= 1000
```

#### è§£æ³•ä¸€ï¼ˆé€’å½’ï¼‰

**é‡ç‚¹æ˜¯ååºéå†**ï¼Œåˆ©ç”¨æ ‘çš„**ååºéå†**å¹¶å°†æ¯æ¬¡çš„è®¿é—®å·¦èŠ‚ç‚¹å’Œå³èŠ‚ç‚¹çš„å€¼ä¿å­˜ä¸‹æ¥ï¼Œæ–¹ä¾¿**ååºéå†ä¹‹åå¯¹æ ¹è®¿é—®çš„æ—¶å€™å·¦å³äº¤æ¢**ã€‚

```java
public TreeNode mirrorTree(TreeNode root) {
    if(root == null){
        return null;
    }
    // é€’å½’éå†å®Œå·¦è¾¹å¹¶ä¿å­˜æ¯æ¬¡é€’å½’å·¦è¾¹çš„å€¼
    TreeNode tmpRight =  mirrorTree(root.left);
    // é€’å½’éå†å®Œå³è¾¹å¹¶ä¿å­˜æ¯æ¬¡é€’å½’å³è¾¹çš„å€¼
    TreeNode tmpLeft = mirrorTree(root.right); 
    // ååºéå†ï¼Œä»ä¸‹å¾€ä¸Šæ„å»º
    // åœ¨æ ‘çš„æœ€åº•å±‚éƒ½æ˜¯ç›¸å¯¹å±€éƒ¨äº¤æ¢ï¼Œæœ€åæ ‘ä¹Ÿå¯ä»¥çœ‹æˆå±€éƒ¨ï¼Œå·¦è¾¹å³è¾¹ï¼Œä¸€æ¬¡äº¤æ¢ã€‚
    root.right = tmpRight;
    root.left = tmpLeft;
    return root;
}
```

#### è§£æ³•äºŒï¼ˆBFSï¼‰

æ— è®ºæ˜¯BFSè¿˜æ˜¯DFSéƒ½ä¼šè®¿é—®åˆ°æ¯ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè®¿é—®æ¯ä¸ªèŠ‚ç‚¹çš„æ—¶å€™äº¤æ¢ä»–çš„å·¦å³å­èŠ‚ç‚¹ï¼Œç›´åˆ°æ‰€æœ‰çš„èŠ‚ç‚¹éƒ½è®¿é—®å®Œä¸ºæ­¢ï¼Œä»£ç å¦‚ä¸‹

```java
public TreeNode mirrorTree(TreeNode root) {
    if (root == null) {
        return null;
    }
    // æ ˆ
    Stack<TreeNode> stack = new Stack<>();
    // å…¥æ ˆ
    stack.add(root);
    // å…¶å®å°±æ˜¯æ ‘çš„æ·±åº¦ä¼˜å…ˆéå†ï¼Œdfs
    // åœ¨è¿™é‡Œæ˜¯æ²¿ç€å³å­æ ‘èµ°èµ°åˆ°åº•ã€‚
    while (!stack.isEmpty()) {
        TreeNode node = stack.pop();
        // å°†å…¶å·¦å³å­æ ‘éƒ½åŠ å…¥æ ˆ
        if (node.left != null) {
            stack.add(node.left);
        }
        if (node.right != null) {
            stack.add(node.right);
        }
        // äº¤æ¢éå†åˆ°çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹
        TreeNode tmp = node.left;
        node.left = node.right;
        node.right = tmp;
    }
    return root;
}
```

### [28. å¯¹ç§°çš„äºŒå‰æ ‘](https://leetcode-cn.com/problems/dui-cheng-de-er-cha-shu-lcof/)

è¯·å®ç°ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥åˆ¤æ–­ä¸€æ£µäºŒå‰æ ‘æ˜¯ä¸æ˜¯å¯¹ç§°çš„ã€‚å¦‚æœä¸€æ£µäºŒå‰æ ‘å’Œå®ƒçš„é•œåƒä¸€æ ·ï¼Œé‚£ä¹ˆå®ƒæ˜¯å¯¹ç§°çš„ã€‚

ä¾‹å¦‚ï¼ŒäºŒå‰æ ‘ [1,2,2,3,4,4,3] æ˜¯å¯¹ç§°çš„ã€‚

```
    1
   / \
  2   2
 / \ / \
3  4 4  3
```

ä½†æ˜¯ä¸‹é¢è¿™ä¸ª [1,2,2,null,3,null,3] åˆ™ä¸æ˜¯é•œåƒå¯¹ç§°çš„:

```
    1
   / \
  2   2
   \   \ 
   3    3
```

ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼šroot = [1,2,2,3,4,4,3]
è¾“å‡ºï¼štrue
```

ç¤ºä¾‹ 2ï¼š

```
è¾“å…¥ï¼šroot = [1,2,2,null,3,null,3]
è¾“å‡ºï¼šfalse
```

é™åˆ¶ï¼š

```
0 <= èŠ‚ç‚¹ä¸ªæ•° <= 1000
```

#### è§£æ³•ä¸€ï¼ˆé€’å½’ï¼‰

**å‰åºéå†**ï¼Œä¹‹ååˆ¤æ–­å·¦å³æ˜¯å¦ç›¸åŒï¼Œéœ€è¦æ³¨æ„çš„æ˜¯äºŒå‰æ ‘ä¸€ä¸ªèŠ‚ç‚¹æœ‰ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œä¸¤ä¸ªèŠ‚ç‚¹è¦åˆ†åˆ«è¿›è¡Œæ¯”è¾ƒ

```java
public boolean isSymmetric(TreeNode root) {
        return root == null || recur(root.left, root.right);
}
public boolean recur(TreeNode left, TreeNode right){
    // éƒ½ä¸ºç©ºï¼Œä»£è¡¨éå†å®Œæˆ
    if(left == null && right == null){
        return true;
    }
    // åˆ¤æ–­å·¦å³æ˜¯å¦ç›¸ç­‰
    if(left == null || right == null || left.val != right.val){
        return false;
    }
    // äºŒå‰æ ‘ä¸€ä¸ªèŠ‚ç‚¹æœ‰ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œä¸¤ä¸ªèŠ‚ç‚¹è¦åˆ†åˆ«è¿›è¡Œæ¯”è¾ƒ
    return recur(left.left, right.right) && recur(left.right, right.left);
}
```

#### è§£æ³•äºŒï¼ˆBFSï¼‰

å¹¿åº¦ä¼˜å…ˆç®—æ³•ï¼Œä¸€å±‚ä¸€å±‚çš„è¿›è¡Œæ¯”è¾ƒã€‚æ³¨æ„éƒ½ä¸ºç©ºï¼Œä»£è¡¨çš„æ˜¯è¿™ä¸€ä¸ªå­æ ‘éå†å®Œæˆï¼Œå¹¶ä¸æ˜¯æ•´ä¸ªæ ‘ã€‚

```java
public boolean isSymmetric1(TreeNode root) {
    if(root == null){
        return true;
    }
    // bfså¹¿åº¦ä¼˜å…ˆç®—æ³•
    Queue<TreeNode> queue = new LinkedList<>();
    // å…¥é˜Ÿ
    queue.offer(root.left);
    queue.offer(root.right);
    while(!queue.isEmpty()){
        TreeNode left = queue.poll();
        TreeNode right = queue.poll();
        // éƒ½ä¸ºç©ºï¼Œä»£è¡¨è¿™ä¸€ä¸ªå­æ ‘éå†å®Œæˆ
        if(left == null && right == null){
            continue;
        }
        // ä»»ä½•ä¸€ä¸ªä¸ºç©ºä»£è¡¨ä¸åŒ¹é…
        else if (left == null || right == null){
            return false;
        }
        // å€¼è¦ç›¸ç­‰
        if (left.val != right.val){
            return false;
        }
        // å°†ä¸‹ä¸€å±‚çš„èŠ‚ç‚¹å…¥é˜Ÿ
        // äºŒå‰æ ‘ä¸€ä¸ªèŠ‚ç‚¹æœ‰ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œä¸¤ä¸ªèŠ‚ç‚¹è¦åˆ†åˆ«è¿›è¡Œæ¯”è¾ƒ
        queue.offer(left.left);
        queue.offer(right.right);
        queue.offer(left.right);
        queue.offer(right.left);
    }
    return true;
}
```

### [29. é¡ºæ—¶é’ˆæ‰“å°çŸ©é˜µ](https://leetcode-cn.com/problems/shun-shi-zhen-da-yin-ju-zhen-lcof/)

è¾“å…¥ä¸€ä¸ªçŸ©é˜µï¼ŒæŒ‰ç…§ä»å¤–å‘é‡Œä»¥é¡ºæ—¶é’ˆçš„é¡ºåºä¾æ¬¡æ‰“å°å‡ºæ¯ä¸€ä¸ªæ•°å­—ã€‚

ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼šmatrix = [[1,2,3],[4,5,6],[7,8,9]]
è¾“å‡ºï¼š[1,2,3,6,9,8,7,4,5]
```

ç¤ºä¾‹ 2ï¼š

```
è¾“å…¥ï¼šmatrix = [[1,2,3,4],[5,6,7,8],[9,10,11,12]]
è¾“å‡ºï¼š[1,2,3,4,8,12,11,10,9,5,6,7]
```

é™åˆ¶ï¼š

- `0 <= matrix.length <= 100`
- `0 <= matrix[i].length <= 100`

#### è§£æ³•ä¸€ï¼ˆå¸¸è§„ï¼‰

å› ä¸ºæ˜¯é¡ºæ—¶é’ˆï¼Œæ‰€ä»¥ä¼šæœ‰å››ä¸ªéå†æ–¹å‘ï¼Œ**åˆ›å»ºå››ä¸ªå˜é‡åˆ†åˆ«ä»£è¡¨ä¸Šä¸‹å·¦å³**ï¼Œè¿™å››ä¸ªå˜é‡æ‰€å›´èµ·æ¥çš„èŒƒå›´å°±æ˜¯æœ‰æ•ˆçš„èŒƒå›´ï¼Œå¾ªç¯åœ¨è¾¹ç•Œè¿›è¡Œéå†ã€‚

```java
public int[] spiralOrder(int[][] matrix) {
    if (matrix.length == 0) {
        return new int[0];
    }
    // ä¸Šä¸‹å·¦å³å››æ¡è¾¹å„è‡ªçš„ä½ç½® å’Œ ç»“æœæ•°ç»„å½“å‰ç»“æœçš„ä¸‹æ ‡
    int l = 0, t = 0, r = matrix[0].length - 1, b = matrix.length - 1, len = 0;
    int[] res = new int[(r + 1) * (b + 1)];
    // ä¸€ç›´å¾ªç¯éå†
    while (true) {
        // ä»å·¦å¾€å³
        for (int i = l; i <= r; i++) {
            res[len++] = matrix[t][i];
        }
        // åˆ¤æ–­å…¶æ˜¯å¦è¶…è¿‡è¾¹ç•Œï¼Œè¶…è¿‡è¾¹ç•Œç›´æ¥éå†ç»“æŸ
        if (++t > b) {
            break;
        }
        for (int i = t; i <= b; i++) {
            res[len++] = matrix[i][r];
        }
        if (--r < l) {
            break;
        }
        for (int i = r; i >= l; i--) {
            res[len++] = matrix[b][i];
        }
        if (t > --b) {
            break;
        }
        for (int i = b; i >= t; i--) {
            res[len++] = matrix[i][l];
        }
        if (++l > r) {
            break;
        }
    }
    return res;
}
```

#### è§£æ³•äºŒï¼ˆDFSï¼‰

é¡ºæ—¶é’ˆéå†çŸ©é˜µåªæœ‰ä¸€æ¡è·¯å¾„ï¼Œæ‰€ä»¥æŒ‰å›ºå®šæ–¹å‘dfsæœç´¢ï¼ŒdfsæŒ‰å›ºå®šçš„å³ã€ä¸‹ã€å·¦ã€ä¸Šæ–¹å‘èµ°è¿·å®«ï¼Œä¸èƒ½èµ°å°±æ¢æ–¹å‘ï¼Œç›´åˆ°è·¯å¾„å¡«æ»¡é€€å‡ºã€‚

```java
// ç®€æ˜“ç‰ˆæœºå™¨äººçš„è¿åŠ¨èŒƒå›´
```

### [30. åŒ…å«minå‡½æ•°çš„æ ˆ](https://leetcode-cn.com/problems/bao-han-minhan-shu-de-zhan-lcof/)

å®šä¹‰æ ˆçš„æ•°æ®ç»“æ„ï¼Œè¯·åœ¨è¯¥ç±»å‹ä¸­å®ç°ä¸€ä¸ªèƒ½å¤Ÿå¾—åˆ°æ ˆçš„æœ€å°å…ƒç´ çš„ min å‡½æ•°åœ¨è¯¥æ ˆä¸­ï¼Œè°ƒç”¨ minã€push åŠ pop çš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯ O(1)ã€‚

ç¤ºä¾‹:

```
MinStack minStack = new MinStack();
minStack.push(-2);
minStack.push(0);
minStack.push(-3);
minStack.min();   --> è¿”å› -3.
minStack.pop();
minStack.top();   --> è¿”å› 0.
minStack.min();   --> è¿”å› -2.
```

æç¤ºï¼š

1. å„å‡½æ•°çš„è°ƒç”¨æ€»æ¬¡æ•°ä¸è¶…è¿‡ 20000 æ¬¡

#### è§£æ³•ä¸€ï¼ˆé“¾è¡¨ï¼‰

è€ƒè™‘ç”¨é“¾è¡¨å®ç°æ ˆï¼Œæ¯ä¸ªnodeéƒ½ä¿å­˜å½“å‰åœ¨æ ˆä¸­çš„æ‰€æœ‰å…ƒç´ çš„æœ€å°å€¼ã€‚åœ¨å…¥æ ˆçš„çš„æ—¶å€™åˆ¤æ–­å½“å‰æ ˆä¸­æ‰€æœ‰å…ƒç´ çš„æœ€å°å€¼ã€‚

```java
class MinStack {
    // å¤´ç»“ç‚¹
    Node head;
    // å†…éƒ¨é™æ€Nodeç±»
    static class Node{
        Node next;
        int val;
        // åœ¨æ¯ä¸ªå®ä¾‹nodeä¸Šéƒ½ä¿å­˜å½“å‰æœ€å°å€¼
        int min;

        public Node(int val, int min){
            this.val = val;
            this.min = min;
        }
    }
    public MinStack() {
        head = new Node(0, Integer.MAX_VALUE);
    }  
    public void push(int x) {
        // å½“å‰å€¼ä¸æ ˆé¡¶æœ€å°å€¼æ¯”è¾ƒï¼Œæ‰¾å‡ºæœ€å°çš„å€¼
        int min = x;
        if(head.next != null){
            min = Math.min(min, head.next.min);
        }
        Node node = new Node(x, min);
        // å¤´æ’æ³•ï¼Œhead.nextå³ä¸ºæ ˆé¡¶
        node.next = head.next;
        head.next = node;
    } 
    public void pop() {
        head.next = head.next.next;
    }  
    public int top() {
        return head.next.val;
    }   
    public int min() {
        // ç›´æ¥è¿”å›æ ˆé¡¶æœ€å°å€¼
        return head.next.min;
    }
}
```

### [31. æ ˆçš„å‹å…¥ã€å¼¹å‡ºåºåˆ—](https://leetcode-cn.com/problems/zhan-de-ya-ru-dan-chu-xu-lie-lcof/)

è¾“å…¥ä¸¤ä¸ªæ•´æ•°åºåˆ—ï¼Œç¬¬ä¸€ä¸ªåºåˆ—è¡¨ç¤ºæ ˆçš„å‹å…¥é¡ºåºï¼Œè¯·åˆ¤æ–­ç¬¬äºŒä¸ªåºåˆ—æ˜¯å¦ä¸ºè¯¥æ ˆçš„å¼¹å‡ºé¡ºåºã€‚å‡è®¾å‹å…¥æ ˆçš„æ‰€æœ‰æ•°å­—å‡ä¸ç›¸ç­‰ã€‚ä¾‹å¦‚ï¼Œåºåˆ— {1,2,3,4,5} æ˜¯æŸæ ˆçš„å‹æ ˆåºåˆ—ï¼Œåºåˆ— {4,5,3,2,1} æ˜¯è¯¥å‹æ ˆåºåˆ—å¯¹åº”çš„ä¸€ä¸ªå¼¹å‡ºåºåˆ—ï¼Œä½† {4,3,5,1,2} å°±ä¸å¯èƒ½æ˜¯è¯¥å‹æ ˆåºåˆ—çš„å¼¹å‡ºåºåˆ—ã€‚

ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼špushed = [1,2,3,4,5], popped = [4,5,3,2,1]
è¾“å‡ºï¼štrue
è§£é‡Šï¼šæˆ‘ä»¬å¯ä»¥æŒ‰ä»¥ä¸‹é¡ºåºæ‰§è¡Œï¼š
push(1), push(2), push(3), push(4), pop() -> 4,
push(5), pop() -> 5, pop() -> 3, pop() -> 2, pop() -> 1
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼špushed = [1,2,3,4,5], popped = [4,3,5,1,2]
è¾“å‡ºï¼šfalse
è§£é‡Šï¼š1 ä¸èƒ½åœ¨ 2 ä¹‹å‰å¼¹å‡ºã€‚
```

æç¤ºï¼š

1. 0 <= pushed.length == popped.length <= 1000
2. 0 <= pushed[i], popped[i] < 1000
3. pushed æ˜¯ popped çš„æ’åˆ—ã€‚

#### è§£æ³•ä¸€ï¼ˆæ¨¡æ‹Ÿæ ˆï¼‰

æŠŠå…¥æ ˆæ•°ç»„çš„å…ƒç´ é€ä¸ªå‹æ ˆï¼Œå½“æ ˆé¡¶å…ƒç´ ç­‰äºå¼¹å‡ºåºåˆ—æ•°ç»„ä¸­å¯¹åº”å…ƒç´ çš„æ—¶å€™ï¼Œå°±è®©æ ˆé¡¶å…ƒç´ å‡ºæ ˆã€ä¸‹æ ‡è‡ªå¢ï¼Œå¾ªç¯ï¼Œæœ€ååˆ¤æ–­æ ˆæ˜¯å¦ä¸ºç©ºå³å¯ã€‚

```java
public boolean validateStackSequences(int[] pushed, int[] popped) {
    // åˆ›å»ºä¸€ä¸ªè¾…åŠ©æ ˆ
    Stack<Integer> stack = new Stack<>();
    // å¼¹å‡ºåºåˆ—ä¸‹æ ‡
    int j = 0;
    // éå†å‹å…¥åºåˆ—
    for (int k : pushed) {
        // æ¨¡æ‹Ÿå…¥æ ˆ
        stack.push(k);
        // å¦‚æœæ ˆé¡¶å‡ºæ ˆçš„è¯ï¼Œåˆ¤æ–­èƒ½å¦è·Ÿå¼¹å‡ºåºåˆ—å¯¹åº”ä¸‹æ ‡åŒ¹é…
        while (!stack.empty() && stack.peek() == popped[j]) {
            stack.pop();
            j++;
        }
    }
    return stack.empty();
}
```

### [32. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘](https://leetcode-cn.com/problems/cong-shang-dao-xia-da-yin-er-cha-shu-lcof/)

å¯¹åº”ä¸‰ä¸ªé¢˜ç›®ï¼Œåˆ†åˆ«å¦‚ä¸‹

* ä»ä¸Šåˆ°ä¸‹æ‰“å°å‡ºäºŒå‰æ ‘çš„æ¯ä¸ªèŠ‚ç‚¹ï¼ŒåŒä¸€å±‚çš„èŠ‚ç‚¹æŒ‰ç…§ä»å·¦åˆ°å³çš„é¡ºåºæ‰“å°ã€‚
* ä»ä¸Šåˆ°ä¸‹æŒ‰å±‚æ‰“å°äºŒå‰æ ‘ï¼ŒåŒä¸€å±‚çš„èŠ‚ç‚¹æŒ‰ä»å·¦åˆ°å³çš„é¡ºåºæ‰“å°ï¼Œæ¯ä¸€å±‚æ‰“å°åˆ°ä¸€è¡Œã€‚
* è¯·å®ç°ä¸€ä¸ªå‡½æ•°æŒ‰ç…§ä¹‹å­—å½¢é¡ºåºæ‰“å°äºŒå‰æ ‘ï¼Œå³ç¬¬ä¸€è¡ŒæŒ‰ç…§ä»å·¦åˆ°å³çš„é¡ºåºæ‰“å°ï¼Œç¬¬äºŒå±‚æŒ‰ç…§ä»å³åˆ°å·¦çš„é¡ºåºæ‰“å°ï¼Œç¬¬ä¸‰è¡Œå†æŒ‰ç…§ä»å·¦åˆ°å³çš„é¡ºåºæ‰“å°ï¼Œå…¶ä»–è¡Œä»¥æ­¤ç±»æ¨ã€‚

#### é¢˜ä¸€ï¼ˆBFSï¼‰

åªéœ€è¦ä¸€ä¸ªå±‚åºéå†å°±å¯ä»¥å®Œæˆã€‚

```java
// BFSæ€ä¹ˆç€ä¹Ÿéœ€è¦é»˜å†™ä¸‹æ¥å§
public int[] levelOrder(TreeNode root) {
    if (root == null) return null;
    Queue<TreeNode> queue = new LinkedList<>();
    queue.offer(root);
    ArrayList<Integer> ans = new ArrayList<>();
    while (!queue.isEmpty()) {
        TreeNode node = queue.poll();
        ans.add(node.val);
        if (node.left != null) queue.offer(node.left);
        if (node.right != null) queue.offer(node.right);
    }
    int[] res = new int[ans.size()];
    for (int i = 0; i < ans.size(); i++)
        res[i] = ans.get(i);
    return res;
}
```

#### é¢˜äºŒï¼ˆBFSï¼‰

åªéœ€è¦ä¸€ä¸ªå±‚åºéå†å°±å¯ä»¥å®Œæˆã€‚

```java
public List<List<Integer>> levelOrder(TreeNode root) {
    Queue<TreeNode> queue = new LinkedList<>();
    List<List<Integer>> res = new ArrayList<>();
    if(root != null){
        queue.offer(root); 
    }
    while (!queue.isEmpty()) {
        ArrayList<Integer> ans = new ArrayList<>();
        // æˆ–è€…è¿™ä¸€å±‚æ‰€æœ‰èŠ‚ç‚¹çš„ä¸ªæ•°ï¼Œå¹¶ä¸€æ¬¡æ€§éå†å®Œ
        int size = queue.size();
        for(int i = 0; i < size; i++){
            TreeNode node = queue.poll();
            ans.add(node.val);
            if (node.left != null) queue.offer(node.left);
            if (node.right != null) queue.offer(node.right);
        }
        res.add(ans);
    }
    return res;
}
```

#### é¢˜ä¸‰ï¼ˆBFSï¼‰

åªéœ€è¦ä¸€ä¸ªå±‚åºéå†å°±å¯ä»¥å®Œæˆï¼Œæ ¹æ®å±‚æ•°çš„å¥‡å¶é€‰æ‹©ä¸åŒçš„æ’å…¥é¡ºåºã€‚

```java
public List<List<Integer>> levelOrder1(TreeNode root) {
    Queue<TreeNode> queue = new LinkedList<>();
    List<List<Integer>> res = new ArrayList<>();
    if (root != null) {
        queue.offer(root);
    }
    int depth = 0;
    while (!queue.isEmpty()) {
        LinkedList<Integer> ans = new LinkedList<>();
        // æˆ–è€…è¿™ä¸€å±‚æ‰€æœ‰èŠ‚ç‚¹çš„ä¸ªæ•°ï¼Œå¹¶ä¸€æ¬¡æ€§éå†å®Œ
        int size = queue.size();
        for (int i = 0; i < size; i++) {
            TreeNode node = queue.poll();
            // æ ¹æ®å¥‡å¶æ’å…¥åˆ°ç»“æœçš„ä¸åŒä½ç½®
            if (depth % 2 == 0) {
                ans.addLast(node.val);
            } else {
                ans.addFirst(node.val);
            }
            if (node.left != null) queue.offer(node.left);
            if (node.right != null) queue.offer(node.right);
        }
        res.add(ans);
        depth++;
    }
    return res;
}
```

### [33. äºŒå‰æœç´¢æ ‘çš„ååºéå†åºåˆ—](https://leetcode-cn.com/problems/er-cha-sou-suo-shu-de-hou-xu-bian-li-xu-lie-lcof/)

è¾“å…¥ä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œåˆ¤æ–­è¯¥æ•°ç»„æ˜¯ä¸æ˜¯**æŸäºŒå‰æœç´¢æ ‘**çš„ååºéå†ç»“æœã€‚å¦‚æœæ˜¯åˆ™è¿”å› `true`ï¼Œå¦åˆ™è¿”å› `false`ã€‚å‡è®¾è¾“å…¥çš„æ•°ç»„çš„ä»»æ„ä¸¤ä¸ªæ•°å­—éƒ½äº’ä¸ç›¸åŒã€‚

å‚è€ƒä»¥ä¸‹è¿™é¢—äºŒå‰æœç´¢æ ‘ï¼š

```
     5
    / \
   2   6
  / \
 1   3
```

ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥: [1,6,3,2,5]
è¾“å‡º: false
```

ç¤ºä¾‹ 2ï¼š

```
è¾“å…¥: [1,3,2,6,5]
è¾“å‡º: true
```

#### è§£æ³•ä¸€ï¼ˆé€’å½’åˆ†æ”¯ï¼‰

æ ¹æ®äºŒå‰æœç´¢æ ‘çš„å®šä¹‰ï¼Œå¯ä»¥é€šè¿‡é€’å½’ï¼Œåˆ¤æ–­æ‰€æœ‰å­æ ‘çš„ **æ­£ç¡®æ€§** ï¼ˆå³å…¶ååºéå†æ˜¯å¦æ»¡è¶³äºŒå‰æœç´¢æ ‘çš„å®šä¹‰ï¼‰ ï¼Œè‹¥æ‰€æœ‰å­æ ‘éƒ½æ­£ç¡®ï¼Œåˆ™æ­¤åºåˆ—ä¸ºäºŒå‰æœç´¢æ ‘çš„ååºéå†ã€‚

ç¬¦åˆå®šä¹‰çš„ååºéå†æ•°ç»„çš„æœ€åä¸€ä¸ªä¸ºæ ¹èŠ‚ç‚¹ï¼Œå› æ­¤ä»å·¦å¾€å³å¼€å§‹éå†ï¼Œè¿ç»­ä¸”å°äºæ ¹èŠ‚ç‚¹çš„å­åºåˆ—å³ä¸ºæ ¹èŠ‚ç‚¹çš„å·¦å­æ ‘ï¼Œè¿ç»­ä¸”å¤§äºæ ¹èŠ‚ç‚¹çš„ä¸ºå³å­æ ‘ï¼Œæ¥ä¸‹æ¥æ ¹æ®å·¦å³å­æ ‘è¿›è¡Œé€’å½’åˆ¤æ–­å…¶æ˜¯å¦ç¬¦åˆå®šä¹‰ã€‚

```java
public boolean verifyPostorder(int[] postorder) {
        return recur(postorder, 0, postorder.length - 1);
}

boolean recur(int[] postorder, int i, int j) {
    // å­åºåˆ—åªæœ‰ä¸€ä¸ªå…ƒç´ æˆ–è€…ä¸å­˜åœ¨å…ƒç´ ï¼Œä»£è¡¨ç¬¦åˆå®šä¹‰ã€‚
    if (i >= j) return true;
    // æ•°ç»„æŒ‡é’ˆï¼Œä»å¤´å¼€å§‹éå†
    int p = i;
    // æ­£ç¡®çš„äºŒå‰æœç´¢æ ‘çš„ååºéå†åºåˆ—çš„æœ€åä¸€ä¸ªå…ƒç´ ä¸ºæ ¹èŠ‚ç‚¹
    // å°äºæ ¹èŠ‚ç‚¹çš„è¿ç»­å­åºåˆ—ä¸ºæ ¹çš„å·¦å­æ ‘
    while (postorder[p] < postorder[j]) {
        p++;
    }
    // ä¿å­˜å·¦å­æ ‘ä¸‹æ ‡
    int m = p;
    // å¤§äºè·Ÿç»“ç‚¹çš„è¿ç»­å­åºåˆ—ä¸ºè·Ÿçš„å³å­æ ‘
    while (postorder[p] > postorder[j]) {
        p++;
    }
    // æ»¡è¶³å®šä¹‰æ—¶ï¼Œå³å­æ ‘ä¸‹æ ‡å¿…é¡»ç­‰äºæ ¹èŠ‚ç‚¹ä¸‹æ ‡ï¼Œå†åˆ†åˆ«é€’å½’åˆ¤æ–­æ ¹èŠ‚ç‚¹å·¦å³å­æ ‘çš„æ­£ç¡®æ€§
    return p == j && recur(postorder, i, m - 1) && recur(postorder, m, j - 1);
}
```

### [39. æ•°ç»„ä¸­å‡ºç°æ¬¡æ•°è¶…è¿‡ä¸€åŠçš„æ•°å­—](https://leetcode-cn.com/problems/shu-zu-zhong-chu-xian-ci-shu-chao-guo-yi-ban-de-shu-zi-lcof/)

æ•°ç»„ä¸­æœ‰ä¸€ä¸ªæ•°å­—å‡ºç°çš„æ¬¡æ•°è¶…è¿‡æ•°ç»„é•¿åº¦çš„ä¸€åŠï¼Œè¯·æ‰¾å‡ºè¿™ä¸ªæ•°å­—ã€‚

 ä½ å¯ä»¥å‡è®¾æ•°ç»„æ˜¯éç©ºçš„ï¼Œå¹¶ä¸”ç»™å®šçš„æ•°ç»„æ€»æ˜¯å­˜åœ¨å¤šæ•°å…ƒç´ ã€‚

ç¤ºä¾‹ 1:

```
è¾“å…¥: [1, 2, 3, 2, 2, 2, 5, 4, 2]
è¾“å‡º: 2
```

#### è§£æ³•ä¸€ï¼ˆæ’åºï¼‰

ç›´æ¥æ’åºï¼Œæ’åºä¹‹åä¸­é—´çš„é‚£ä¸ªå³ä¸ºè¶…è¿‡ä¸€èˆ¬çš„æ•°ç»„ï¼Œæ—¶é—´å¤æ‚åº¦nlog(n)

#### è§£æ³•äºŒï¼ˆHASHï¼‰

éå†æ•°ç»„ï¼Œç”¨ HashMap ç»Ÿè®¡å„æ•°å­—çš„æ•°é‡ï¼Œæœ€ç»ˆè¶…è¿‡æ•°ç»„é•¿åº¦ä¸€åŠçš„æ•°å­—åˆ™ä¸ºæ±‚å€¼ã€‚æ­¤æ–¹æ³•æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦å‡ä¸º O(N)ã€O(N) ã€‚

#### è§£æ³•ä¸‰ï¼ˆæ‘©å°”æŠ•ç¥¨æ³•ï¼‰

åˆ©ç”¨æ•°é‡ä¼˜åŠ¿ï¼Œä¸€å¯¹ä¸€æŠµæ¶ˆï¼Œæœ€åçš„é‚£ä¸ªå³ä¸ºæ±‚å€¼ã€‚è®¾ç½®ä¸€ä¸ªvoteså˜é‡ï¼Œéå†æ•°ç»„ï¼Œ**å½“votesä¸º0æ—¶å³å½“å‰éå†çš„å€¼ä¸ºä¼—æ•°**ï¼Œåœ¨è¿›è¡Œéå†ï¼Œå’Œä¼—æ•°ç›¸åŒvotes++ï¼Œå¦åˆ™--ï¼Œåˆ°0å°±é‡å¤åˆšåˆšé€‰çš„è¿‡ç¨‹ã€‚æ—¶é—´ã€ç©ºé—´å¤æ‚åº¦åˆ†åˆ«é—®O(n)ã€O(1)

```java
public int majorityElement(int[] nums) {
    // ä¼—æ•°    æŠ•ç¥¨æ•°
    int x = 0, votes = 0;
    // éå†
    for(int num : nums){
        // ä¸º0æ˜¯é€‰ä¼—æ•°
        if(votes == 0) x = num;
        // ++ æˆ– --
        votes += num == x ? 1 : -1;
    }
    return x;
}
```

### [40. æœ€å°çš„kä¸ªæ•°](https://leetcode-cn.com/problems/zui-xiao-de-kge-shu-lcof/)

è¾“å…¥æ•´æ•°æ•°ç»„ `arr` ï¼Œæ‰¾å‡ºå…¶ä¸­æœ€å°çš„ `k` ä¸ªæ•°ã€‚ä¾‹å¦‚ï¼Œè¾“å…¥4ã€5ã€1ã€6ã€2ã€7ã€3ã€8è¿™8ä¸ªæ•°å­—ï¼Œåˆ™æœ€å°çš„4ä¸ªæ•°å­—æ˜¯1ã€2ã€3ã€4ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šarr = [3,2,1], k = 2
è¾“å‡ºï¼š[1,2] æˆ–è€… [2,1]
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šarr = [0,1,2,1], k = 1
è¾“å‡ºï¼š[0]
```

#### è§£æ³•ä¸€ï¼ˆæœ€å¤§å †ï¼‰

æœ€å¤§å †æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œå®ƒé¦–å…ˆæ˜¯ä¸€é¢—å®Œå…¨äºŒå‰æ ‘ï¼Œå¹¶ä¸”ï¼Œå®ƒæ‰€æœ‰çˆ¶èŠ‚ç‚¹çš„å€¼å¤§äºæˆ–ç­‰äºä¸¤ä¸ªå­èŠ‚ç‚¹çš„å€¼ï¼ˆå¹¶ä¸è¦æ±‚å³èŠ‚ç‚¹å¤§äºå·¦èŠ‚ç‚¹ï¼‰ã€‚

ä¸€æ£µæ·±åº¦ä¸º k çš„æœ‰nä¸ªç»“ç‚¹çš„äºŒå‰æ ‘ï¼Œå¯¹æ ‘ä¸­çš„ç»“ç‚¹æŒ‰ä»ä¸Šè‡³ä¸‹ã€ä»å·¦åˆ°å³çš„é¡ºåºè¿›è¡Œç¼–å·ï¼Œå¦‚æœç¼–å·ä¸ºiï¼ˆ1â‰¤iâ‰¤nï¼‰çš„ç»“ç‚¹ä¸æ»¡äºŒå‰æ ‘ä¸­ç¼–å·ä¸ºiçš„ç»“ç‚¹åœ¨äºŒå‰æ ‘ä¸­çš„ä½ç½®ç›¸åŒï¼Œåˆ™è¿™æ£µäºŒå‰æ ‘ç§°ä¸ºå®Œå…¨äºŒå‰æ ‘ã€‚

top ké—®é¢˜å¸¸ç”¨æœ€å¤§/å°å †æ¥è§£å†³ï¼Œåœ¨æ±‚æœ€å°çš„kä¸ªæ•°æ—¶ï¼Œå¯ä»¥æ„å»ºé•¿åº¦ä¸ºkçš„æœ€å¤§å †ã€‚éå†æ•´ä¸ªæ•°ç»„ï¼Œå½“éå†å€¼å°äºæœ€å¤§å †çš„æ ¹å…ƒç´ æ—¶äº¤æ¢å…ƒç´ å¹¶é‡æ–°è°ƒæ•´å †ã€‚

ä¸€åˆ—æ•°å­—æ”¾å…¥æœ€å¤§æ¨ï¼Œå †è°ƒæ•´ä¹‹åé‡Œé¢å­˜æ”¾çš„å…ƒç´ æ˜¯è¿™ä¸€åˆ—æ•°å­—ä¸­æœ€å°çš„å­åºåˆ—

```java
// ç”±äºå¤§æ ¹å †å®æ—¶ç»´æŠ¤å‰ k å°å€¼ï¼Œæ‰€ä»¥æ’å…¥åˆ é™¤éƒ½æ˜¯O(logk)çš„æ—¶é—´å¤æ‚åº¦ï¼Œæœ€åæƒ…å†µä¸‹æ•°ç»„é‡Œ nn ä¸ªæ•°éƒ½ä¼šæ’å…¥ï¼Œæ‰€ä»¥ä¸€å…±éœ€è¦nO(logk)çš„æ—¶é—´å¤æ‚åº¦ã€‚
static class MaxHeap {

    private final int[] data;

    public MaxHeap(int[] data) {
        this.data = data;
        buildHeap();
    }

    // è·å–å¯¹ä¸­çš„æœ€å¤§çš„å…ƒç´ ï¼Œæ ¹å…ƒç´ 
    public int getRoot() {
        return data[0];
    }

    // æ›¿æ¢æ ¹å…ƒç´ ï¼Œå¹¶é‡æ–°å †è°ƒæ•´
    public void setRoot(int root) {
        data[0] = root;
        heapify(0);
    }

    // å°†æ•°ç»„è½¬æ¢æˆæœ€å¤§å †
    private void buildHeap() {
        // æ ¹æ®æ€§è´¨ï¼Œ
        // å®Œå…¨äºŒå‰æ ‘åªæœ‰æ•°ç»„ä¸‹æ ‡å°äºæˆ–ç­‰äº (data.length) / 2 - 1 çš„å…ƒç´ æœ‰å­©å­ç»“ç‚¹
        // å¯¹æœ‰å­©å­ç»“ç‚¹çš„å…ƒç´ å †è°ƒæ•´ï¼Œä»ä¸‹å¾€ä¸Šè°ƒæ•´
        for (int i = (data.length) / 2 - 1; i >= 0; i--) {
            heapify(i);
        }
    }

    private void heapify(int i) {
        // è·å–å·¦å³ç»“ç‚¹çš„æ•°ç»„ä¸‹æ ‡
        int l = ((i + 1) << 1) - 1;
        int r = (i + 1) << 1;
        // ä¸´æ—¶å˜é‡ï¼Œè¡¨ç¤º è·Ÿç»“ç‚¹ã€å·¦ç»“ç‚¹ã€å³ç»“ç‚¹ä¸­æœ€å¤§çš„å€¼çš„ç»“ç‚¹çš„ä¸‹æ ‡
        int max = i;
        // å·¦ç»“ç‚¹çš„å€¼å¤§äºæ ¹ç»“ç‚¹çš„å€¼
        if (l < data.length && data[l] > data[i]) {
            max = l;
        }
        // å³ç»“ç‚¹çš„å€¼å¤§äºä»¥ä¸Šæ¯”è¾ƒçš„è¾ƒå¤§å€¼
        // å¹¶ä¸è¦æ±‚å³èŠ‚ç‚¹å¤§äºå·¦èŠ‚ç‚¹
        if (r < data.length && data[r] > data[max]) {
            max = r;
        }
        // å·¦å³ç»“ç‚¹çš„å€¼éƒ½å°äºæ ¹èŠ‚ç‚¹ï¼Œç›´æ¥returnï¼Œä¸åšä»»ä½•æ“ä½œ
        if (i == max) {
            return;
        }
        // äº¤æ¢æ ¹èŠ‚ç‚¹å’Œå·¦å³ç»“ç‚¹ä¸­æœ€å¤§çš„é‚£ä¸ªå€¼ï¼ŒæŠŠæ ¹èŠ‚ç‚¹çš„å€¼æ›¿æ¢ä¸‹å»
        swap(i, max);
        // ç”±äºæ›¿æ¢åå·¦å³å­æ ‘ä¼šè¢«å½±å“ï¼Œæ‰€ä»¥è¦å¯¹å—å½±å“çš„å­æ ‘å†è¿›è¡Œå †è°ƒæ•´
        heapify(max);
    }

    // äº¤æ¢å…ƒç´ ä½ç½®
    private void swap(int i, int j) {
        int tmp = data[i];
        data[i] = data[j];
        data[j] = tmp;
    }
}

public int[] getLeastNumbers(int[] arr, int k) {
    if (k == 0) {
        return new int[0];
    }
    int[] topArr = new int[k];
    // æ„é€ é•¿åº¦ä¸º K çš„æœ€å¤§å †
    if (k >= 0) System.arraycopy(arr, 0, topArr, 0, k);
    MaxHeap maxHeap = new MaxHeap(topArr);
    // éå†å…ƒç´ å°äºæœ€å¤§å †çš„æ—¶å€™æ›¿æ¢å…ƒç´ å¹¶è°ƒæ•´å †
    for (int i = k; i < arr.length; i++) {
        if (maxHeap.getRoot() > arr[i]) {
            maxHeap.setRoot(arr[i]);
        }
    }
    return topArr;
}
```

#### è§£æ³•äºŒï¼ˆå¿«æ’å˜å½¢ï¼‰

ç›´æ¥é€šè¿‡å¿«æ’åˆ‡åˆ†æ’å¥½ç¬¬ K å°çš„æ•°ï¼ˆä¸‹æ ‡ä¸º K-1ï¼‰ï¼Œé‚£ä¹ˆå…¶ k - 1ä¸‹æ ‡çš„å·¦è¾¹å°±æ˜¯æ±‚å€¼ã€‚

```java
private void quickSearch(int[] nums, int l, int r, int k) {
    if (l >= r) {
        return;
    }
    // è®¾ç½®æœ€å·¦è¾¹çš„å…ƒç´ ä¸ºkey
    int key = nums[l];
    // ä¸­é—´å€¼
    int i = l, j = r;
    // å¾ªç¯åˆ†ç±»ï¼Œå·¦å°å³å¤§
    while (i < j) {
        // ä»å³è¾¹æ‰¾åˆ°ä¸€ä¸ªæ¯” key å°çš„æ•°
        while (nums[j] >= key && i < j) {
            j--;
        }
        // ä»å·¦è¾¹æ‰¾åˆ°ä¸€ä¸ªæ¯” key å¤§çš„æ•°
        while (nums[i] <= key && i < j) {
            i++;
        }
        // æŠŠæ¯”keyå°çš„æ•°æ”¾å·¦è¾¹ï¼Œå¤§çš„æ”¾å³è¾¹
        if (i < j) {
            int t = nums[i];
            nums[i] = nums[j];
            nums[j] = t;
        }
    }
    // åˆ°è¿™ä»£è¡¨åˆ†ç±»å®Œæˆï¼Œå°†keyæ’è¿‡å»
    nums[l] = nums[i];
    nums[i] = key;
    // å·²ç»æ‰¾åˆ°ä»¥ k ä¸­é—´å€¼çš„æ•°ç»„ï¼Œç›´æ¥è¿”å›
    if (i == k) {
        return;
    }
    quickSearch(nums, l, i - 1, k);
    quickSearch(nums, i + 1, r, k);
}
public int[] getLeastNumbers2(int[] arr, int k) {
    if (k == 0 || arr.length == 0) {
        return new int[0];
    }
    // æœ€åä¸€ä¸ªå‚æ•°è¡¨ç¤ºæˆ‘ä»¬è¦æ‰¾çš„æ˜¯ä¸‹æ ‡ä¸ºk-1çš„æ•°
    quickSearch(arr, 0, arr.length - 1, k - 1);
    return Arrays.copyOf(arr, k);
}
```

#### è§£æ³•ä¸‰ï¼ˆåº“å‡½æ•°ï¼‰

åœ¨javaä¸­PriorityQueueå¯ä»¥å®ç°æœ€å¤§æˆ–è€…æ˜¯æœ€å°å †ã€‚PriorityQueueé»˜è®¤æ˜¯æœ€å°å †ã€‚

```java
public int[] getLeastNumbers1(int[] arr, int k) {
    if (k == 0) {
        return new int[0];
    }
    int v[] = new int[k];
    // æœ€å°å †
    PriorityQueue<Integer> pq = new PriorityQueue<>((a, b) -> a - b);
    for (int j : arr) {
        pq.offer(j);
    }
    for (int i = 0; i < k; i++) {
        v[i] = pq.poll();
    }
    return v;
}
```

### [53.1. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾æ•°å­—](https://leetcode-cn.com/problems/zai-pai-xu-shu-zu-zhong-cha-zhao-shu-zi-lcof/)

ç»Ÿè®¡ä¸€ä¸ªæ•°å­—åœ¨æ’åºæ•°ç»„ä¸­å‡ºç°çš„æ¬¡æ•°ã€‚

ç¤ºä¾‹ 1:

```
è¾“å…¥: nums = [5,7,7,8,8,10], target = 8
è¾“å‡º: 2
```

ç¤ºä¾‹ 2:

```
è¾“å…¥: nums = [5,7,7,8,8,10], target = 6
è¾“å‡º: 0
```

#### è§£æ³•ä¸€ï¼ˆéå†ï¼‰

ç›´æ¥éå†å°±å¯ä»¥

#### è§£æ³•äºŒï¼ˆäºŒåˆ†æŸ¥æ‰¾ï¼‰

ç”¨äºŒåˆ†æŸ¥æ‰¾åˆ†åˆ«æ‰¾åˆ°å·¦è¾¹ç•Œå’Œå³è¾¹ç•Œï¼Œåœ¨ç›¸å‡å³å¯å¾—ã€‚

```java
// æ—¶é—´å¤æ‚åº¦O(logn)
public int search(int[] nums, int target) {
    int left = 0, right = nums.length - 1;
    // æ‰¾åˆ°targetçš„å³è¾¹ç•Œ
    while (left <= right) {
        int mid = left + (right - left) / 2;
        if (nums[mid] <= target) {
            left = mid + 1;
        } else {
            right = mid - 1;
        }
    }
    // å¦‚æœæ•°ç»„ä¸­ä¸å­˜åœ¨å¯¹åº”target
    if (right >= 0 && nums[right] != target){
        return 0;
    }
    int RIGHT = left;
    // é‡æ–°åˆå§‹åŒ–
    left = 0;
    right = nums.length - 1;
    // æ‰¾åˆ°targetçš„å·¦è¾¹ç•Œ
    while (left <= right) {
        int mid = left + (right - left) / 2;
        if (nums[mid] < target) {
            left = mid + 1;
        } else {
            right = mid - 1;
        }
    }
    int LEFT = right;
    return RIGHT - LEFT - 1;
}
```

### [53.2. 0ï½n-1ä¸­ç¼ºå¤±çš„æ•°å­—](https://leetcode-cn.com/problems/que-shi-de-shu-zi-lcof/)

ä¸€ä¸ªé•¿åº¦ä¸ºn-1çš„é€’å¢æ’åºæ•°ç»„ä¸­çš„æ‰€æœ‰æ•°å­—éƒ½æ˜¯å”¯ä¸€çš„ï¼Œå¹¶ä¸”æ¯ä¸ªæ•°å­—éƒ½åœ¨èŒƒå›´0ï½n-1ä¹‹å†…ã€‚åœ¨èŒƒå›´0ï½n-1å†…çš„nä¸ªæ•°å­—ä¸­æœ‰ä¸”åªæœ‰ä¸€ä¸ªæ•°å­—ä¸åœ¨è¯¥æ•°ç»„ä¸­ï¼Œè¯·æ‰¾å‡ºè¿™ä¸ªæ•°å­—ã€‚

ç¤ºä¾‹ 1:

```
è¾“å…¥: [0,1,3]
è¾“å‡º: 2
```

ç¤ºä¾‹ 2:

```
è¾“å…¥: [0,1,2,3,4,5,6,7,9]
è¾“å‡º: 8
```

#### è§£æ³•ä¸€ï¼ˆéå†ï¼‰

ç›´æ¥éå†å°±å¯ä»¥

#### è§£æ³•äºŒï¼ˆäºŒåˆ†æ³•ï¼‰

```java
public int missingNumber(int[] nums) {
    int left = 0, right = nums.length - 1;
    while (left <= right) {
        int mid = left + (right - left) / 2;
        // ç›¸ç­‰å°±å»å³åŒºé—´ä¸­æ‰¾
        if (nums[mid] == mid) {
            left = mid + 1;
        }
        // ä¸ç›¸ç­‰å°±å»å·¦åŒºé—´ä¸­æ‰¾
        else {
            right = mid - 1;
        }
    }
    return left;
}
```

### [59.1 æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼](https://leetcode-cn.com/problems/hua-dong-chuang-kou-de-zui-da-zhi-lcof/)

ç»™å®šä¸€ä¸ªæ•°ç»„ `nums` å’Œæ»‘åŠ¨çª—å£çš„å¤§å° `k`ï¼Œè¯·æ‰¾å‡ºæ‰€æœ‰æ»‘åŠ¨çª—å£é‡Œçš„æœ€å¤§å€¼ã€‚

ç¤ºä¾‹:

```
è¾“å…¥: nums = [1,3,-1,-3,5,3,6,7], å’Œ k = 3
è¾“å‡º: [3,3,5,5,6,7] 
è§£é‡Š: 
  æ»‘åŠ¨çª—å£çš„ä½ç½®                æœ€å¤§å€¼
---------------               -----

[1  3  -1] -3  5  3  6  7       3
 1 [3  -1  -3] 5  3  6  7       3
 1  3 [-1  -3  5] 3  6  7       5
 1  3  -1 [-3  5  3] 6  7       5
 1  3  -1  -3 [5  3  6] 7       6
 1  3  -1  -3  5 [3  6  7]      7
```

#### è§£æ³•ä¸€ï¼ˆå•è°ƒé˜Ÿåˆ—ï¼‰

å•è°ƒå¢é˜Ÿåˆ—å®ç°ï¼Œä½¿ç”¨åŒå‘é“¾è¡¨ï¼Œå½“å…¥é˜Ÿçš„æ—¶å€™å°†å‰é¢æ¯”å…¥é˜Ÿå…ƒç´ å°çš„å…¨éƒ¨ç»™æ¸…é™¤æ‰ï¼Œä¿è¯å½“å‰é˜Ÿåˆ—å…ƒç´ å•è°ƒé€’å¢ã€‚**ä½ å¯ä»¥æƒ³è±¡ï¼ŒåŠ å…¥æ•°å­—çš„å¤§å°ä»£è¡¨äººçš„ä½“é‡ï¼ŒæŠŠå‰é¢ä½“é‡ä¸è¶³çš„éƒ½å‹æ‰äº†ï¼Œç›´åˆ°é‡åˆ°æ›´å¤§çš„é‡çº§æ‰åœä½**ã€‚

åœ¨æœ¬é¢˜ä¸­ï¼Œå› ä¸ºæ»‘åŠ¨çª—å£éœ€è¦åˆ é™¤é˜Ÿå¤´çš„å€¼ï¼Œä½†æ˜¯æˆ‘ä»¬æƒ³åˆ é™¤çš„é˜Ÿå¤´å…ƒç´  n å¯èƒ½å·²ç»è¢«ã€Œå‹æ‰ã€äº†ï¼Œè¿™æ—¶å€™å°±ä¸ç”¨åˆ é™¤äº†

```java
// çº¿æ€§æ—¶é—´å¤æ‚åº¦
public int[] maxSlidingWindow(int[] nums, int k) {
    if (nums.length == 0 || k == 0){
        return new int[0];
    }
    // å•è°ƒé˜Ÿåˆ—è¦ä½¿ç”¨åŒå‘é“¾è¡¨å®ç°
    Deque<Integer> deque = new LinkedList<>();
    // ç»“æœæ•°ç»„
    int[] res = new int[nums.length - k + 1];
    // é¦–å…ˆè®©é•¿åº¦ä¸º K çš„çª—å£å……æ»¡å…ƒç´ 
    for (int i = 0; i < k; i++) {
        // æ„é€ å•è°ƒæ ˆï¼Œå°†é˜Ÿåˆ—å‰é¢æ¯”å…ƒç´ å°çš„å…¨ç»™æ¸…é™¤æ‰ï¼Œä¿è¯å½“å‰å•è°ƒé€’å¢
        // ä½ å¯ä»¥æƒ³è±¡ï¼ŒåŠ å…¥æ•°å­—çš„å¤§å°ä»£è¡¨äººçš„ä½“é‡ï¼ŒæŠŠå‰é¢ä½“é‡ä¸è¶³çš„éƒ½å‹æ‰äº†ï¼Œç›´åˆ°é‡åˆ°æ›´å¤§çš„é‡çº§æ‰åœä½ã€‚
        while (!deque.isEmpty() && deque.peekLast() < nums[i]){
            deque.removeLast();
        }
        deque.offer(nums[i]);
    }
    // è·å–ç¬¬ä¸€ä¸ªå€¼
    res[0] = deque.peek();
    // å½¢æˆçª—å£ä¹‹å
    for (int i = k; i < nums.length; i++) {
        // å› ä¸ºåœ¨æ„é€ å•è°ƒæ ˆçš„æ—¶å€™ï¼Œç›¸å¯¹å°çš„å…ƒç´ å·²ç»è¢«å¼¹å‡º
        // æˆ‘ä»¬æƒ³åˆ é™¤çš„é˜Ÿå¤´å…ƒç´  n å¯èƒ½å·²ç»è¢«ã€Œå‹æ‰ã€äº†ï¼Œè¿™æ—¶å€™å°±ä¸ç”¨åˆ é™¤äº†
        if (deque.peek() == nums[i - k]){
            deque.poll();
        }
        // æ„é€ å•è°ƒæ ˆï¼Œå°†é˜Ÿåˆ—å‰é¢æ¯”å…ƒç´ å°çš„å…¨ç»™æ¸…é™¤æ‰
        // ä¿è¯å½“è°ƒè°ƒé€’å¢
        while (!deque.isEmpty() && deque.peekLast() < nums[i]){
            deque.removeLast();
        }
        deque.offer(nums[i]);
        // è·å–å¯¹åº”çª—å£æœ€å¤§å€¼
        res[i - k + 1] = deque.peek();
    }
    return res;
}
```



### [60. nä¸ªéª°å­çš„ç‚¹æ•°](https://leetcode-cn.com/problems/nge-tou-zi-de-dian-shu-lcof/)

æŠŠnä¸ªéª°å­æ‰”åœ¨åœ°ä¸Šï¼Œæ‰€æœ‰éª°å­æœä¸Šä¸€é¢çš„ç‚¹æ•°ä¹‹å’Œä¸ºsã€‚è¾“å…¥nï¼Œæ‰“å°å‡ºsçš„æ‰€æœ‰å¯èƒ½çš„å€¼å‡ºç°çš„æ¦‚ç‡ã€‚

ä½ éœ€è¦ç”¨ä¸€ä¸ªæµ®ç‚¹æ•°æ•°ç»„è¿”å›ç­”æ¡ˆï¼Œå…¶ä¸­ç¬¬ i ä¸ªå…ƒç´ ä»£è¡¨è¿™ n ä¸ªéª°å­æ‰€èƒ½æ·å‡ºçš„ç‚¹æ•°é›†åˆä¸­ç¬¬ i å°çš„é‚£ä¸ªçš„æ¦‚ç‡ã€‚

ç¤ºä¾‹ 1:

```
è¾“å…¥: 1
è¾“å‡º: [0.16667,0.16667,0.16667,0.16667,0.16667,0.16667]
```

ç¤ºä¾‹ 2:

```
è¾“å…¥: 2
è¾“å‡º: [0.02778,0.05556,0.08333,0.11111,0.13889,0.16667,0.13889,0.11111,0.08333,0.05556,0.02778]
```

#### è§£æ³•ä¸€ï¼ˆåŠ¨æ€è§„åˆ’ï¼‰

```java
public double[] twoSum(int n) {
  double pre[]={1/6d,1/6d,1/6d,1/6d,1/6d,1/6d};
  for(int i=2;i<=n;i++){
    double tmp[]=new double[5*i+1];
    for(int j=0;j<pre.length;j++)
      for(int x=0;x<6;x++)
        tmp[j+x]+=pre[j]/6;
    pre=tmp;
  }
  return pre;
}
```



### [63. è‚¡ç¥¨çš„æœ€å¤§åˆ©æ¶¦](https://leetcode-cn.com/problems/gu-piao-de-zui-da-li-run-lcof/)

å‡è®¾æŠŠæŸè‚¡ç¥¨çš„ä»·æ ¼æŒ‰ç…§æ—¶é—´å…ˆåé¡ºåºå­˜å‚¨åœ¨æ•°ç»„ä¸­ï¼Œè¯·é—®ä¹°å–è¯¥è‚¡ç¥¨ä¸€æ¬¡å¯èƒ½è·å¾—çš„æœ€å¤§åˆ©æ¶¦æ˜¯å¤šå°‘ï¼Ÿ

ç¤ºä¾‹ 1:

```
è¾“å…¥: [7,1,5,3,6,4]
è¾“å‡º: 5
è§£é‡Š: åœ¨ç¬¬ 2 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 1ï¼‰çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 5 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 6ï¼‰çš„æ—¶å€™å–å‡ºï¼Œæœ€å¤§åˆ©æ¶¦ = 6-1 = 5 ã€‚
     æ³¨æ„åˆ©æ¶¦ä¸èƒ½æ˜¯ 7-1 = 6, å› ä¸ºå–å‡ºä»·æ ¼éœ€è¦å¤§äºä¹°å…¥ä»·æ ¼ã€‚
```

ç¤ºä¾‹ 2:

```
è¾“å…¥: [7,6,4,3,1]
è¾“å‡º: 0
è§£é‡Š: åœ¨è¿™ç§æƒ…å†µä¸‹, æ²¡æœ‰äº¤æ˜“å®Œæˆ, æ‰€ä»¥æœ€å¤§åˆ©æ¶¦ä¸º 0ã€‚
```

#### è§£æ³•ä¸€ï¼ˆåŠ¨æ€è§„åˆ’ï¼‰

æ€»æ˜¯**åœ¨è‚¡ç¥¨ä»·æ ¼æœ€å°çš„æ—¶å€™ä¹°å…¥ï¼Œä¹‹åæ‰¾åˆ°ä¸€ä¸ªå–å‡ºæ—¶çš„æœ€å¤§åˆ©æ¶¦ã€‚**

```java
public int maxProfit(int[] prices) {
    // è‚¡ç¥¨ä»·æ ¼æœ€å°å€¼             æœ€å¤§åˆ©æ¶¦
    int min = Integer.MAX_VALUE, res = 0;
    for(int v : prices){
        // æ›´æ–°è‚¡ç¥¨ä»·æ ¼æœ€å°å€¼
        min = Math.min(v, min);
        // æ‰¾åˆ°å½“å‰ä»·æ ¼ä¸æœ€å°å€¼å–å‡ºçš„æœ€å¤§åˆ©æ¶¦
        res = Math.max(res, v - min);
    }
    return res;
}
```



## leetCodeåˆ·é¢˜æ€»ç»“

### [1. ä¸¤æ•°ä¹‹å’Œ](https://leetcode-cn.com/problems/two-sum/)

ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªç›®æ ‡å€¼ targetï¼Œè¯·ä½ åœ¨è¯¥æ•°ç»„ä¸­æ‰¾å‡ºå’Œä¸ºç›®æ ‡å€¼çš„é‚£ ä¸¤ä¸ª æ•´æ•°ï¼Œå¹¶è¿”å›ä»–ä»¬çš„æ•°ç»„ä¸‹æ ‡ã€‚

ä½ å¯ä»¥å‡è®¾æ¯ç§è¾“å…¥åªä¼šå¯¹åº”ä¸€ä¸ªç­”æ¡ˆã€‚ä½†æ˜¯ï¼Œæ•°ç»„ä¸­åŒä¸€ä¸ªå…ƒç´ ä¸èƒ½ä½¿ç”¨ä¸¤éã€‚

ç¤ºä¾‹:

```
ç»™å®š nums = [2, 7, 11, 15], target = 9

å› ä¸º nums[0] + nums[1] = 2 + 7 = 9
æ‰€ä»¥è¿”å› [0, 1]
```

#### è§£æ³•ä¸€ï¼ˆæš´åŠ›æ³•ï¼‰

```java
// è·³è¿‡
```

#### è§£æ³•äºŒï¼ˆHASHï¼‰

ç”¨hashä¿å­˜å€¼å’Œä¸‹æ ‡ï¼Œå†ç”¨ç›®æ ‡å€¼å»mapä¸­æ‰¾å°±ok

```java
public int[] twoSum(int[] nums, int target) {
    // ç”¨hashä¿å­˜å„ä¸ªå€¼
    Map<Integer, Integer> map = new HashMap<>();
    // ä¸€ç›´æ’å…¥
    for (int i = 0; i < nums.length; i++) {
        map.put(nums[i], i);
    }
    for (int i = 0; i < nums.length; i++) {
        int complement = target - nums[i];
        // ä»mapä¸­æ‰¾åˆ°ç¬¦åˆçš„å€¼å¹¶ä¸”å¹¶ä¸æ˜¯é‡å¤å€¼ï¼Œç„¶åè¿”å›ä¸‹æ ‡
        if (map.containsKey(complement) && map.get(complement) != i) {
            return new int[] { i, map.get(complement) };
        }
    }
    return null;
}
```

#### è§£æ³•ä¸‰ï¼ˆåŒæŒ‡é’ˆï¼‰

å¦‚æœæ•°ç»„å·²ç»æ’åºçš„è¯å°±å¯ä»¥ä½¿ç”¨åŒä¹‹å‰ä¸€ä¸ªåœ¨å‰ï¼Œä¸€ä¸ªåœ¨å°¾è§£å†³è¿™ä¸ªé—®é¢˜

```java
public int[] twoSum(int[] nums, int target) {
    // numså¿…é¡»å·²ç»å‡åº
    // é¦–å°¾æŒ‡é’ˆ
    int left = 0, right = nums.length - 1;
    // æ²¡æœ‰ç›¸äº¤
    while (left < right) {
        // æ±‚å‡ºåŒæŒ‡é’ˆå¯¹åº”å€¼
        int sum = nums[left] + nums[right];
        // å€¼ç›¸ç­‰å°±æ˜¯ç»“æœ
        if (sum == target) {
            return new int[]{left, right};
        }
        // å°äºç›®æ ‡å€¼åˆ™å·¦æŒ‡é’ˆ++,è®©æ•´ä¸ªå€¼å¢å¤§
        else if (sum < target) {
            left++;
        }
        // å¤§äºç›®æ ‡å€¼åˆ™å³æŒ‡é’ˆ--,è®©æ•´ä¸ªå€¼å‡å°
        else {
            right--;
        }
    }
    return new int[]{-1, -1};
}
```

### [3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²](https://leetcode-cn.com/problems/longest-substring-without-repeating-characters/)

ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¯·ä½ æ‰¾å‡ºå…¶ä¸­ä¸å«æœ‰é‡å¤å­—ç¬¦çš„ æœ€é•¿å­ä¸² çš„é•¿åº¦ã€‚

ç¤ºä¾‹ 1:

```
è¾“å…¥: "abcabcbb"
è¾“å‡º: 3 
è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ "abc"ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚
```

#### è§£æ³•ä¸€ï¼ˆæ»‘åŠ¨çª—å£ï¼‰

åˆ©ç”¨æ»‘åŠ¨çª—å£ï¼Œè°ƒæ•´çª—å£ï¼Œåœ¨æ»¡è¶³æ— é‡å¤å­—ç¬¦çš„æƒ…å†µä¸‹çª—å£æœ€å¤§çš„é•¿åº¦å°±æ˜¯æ‰€æ±‚å€¼ã€‚

**ç”¨hashMapä¿å­˜å½“å‰çª—å£ä¸­å­˜åœ¨çš„å…ƒç´ å’Œå¯¹åº”å‡ºç°çš„æ¬¡æ•°**ï¼Œæ ¹æ®å­—ç¬¦å‡ºç°çš„æ¬¡æ•°è°ƒæ•´çª—å£ï¼Œä½¿å…¶ç¬¦åˆæ¡ä»¶å¹¶æ›´æ–°æœ€å¤§å€¼ã€‚

```java
// æ—¶é—´å¤æ‚åº¦O(n)
public int lengthOfLongestSubstring(String s) {
    // ç”¨mapä¿å­˜å½“å‰çª—å£ä¸­å­˜åœ¨çš„å…ƒç´ å’Œå¯¹åº”å‡ºç°çš„æ¬¡æ•°
    HashMap<Character, Integer> map = new HashMap<>();
    // å·¦æŒ‡é’ˆï¼Œ  å³æŒ‡é’ˆï¼Œ  æœ€å¤§å€¼
    int i = 0 , j = 0, max = 0;
    // å½“çª—å£æ²¡æœ‰åˆ°åº•æ—¶
    while(j < s.length()){
        // åˆ¤æ–­å½“å‰å­—ç¬¦æ˜¯å¦å·²ç»åœ¨çª—å£ä¸­å­˜åœ¨
        // å­˜åœ¨æ¬¡æ•°++ï¼Œä¸å­˜åœ¨åˆå§‹ä¸º1
        char c = s.charAt(j++);
        if (map.get(c) == null){
            map.put(c, 1);
        }else{
            map.put(c, map.get(c) + 1);
        }
        // å½“å­—ç¬¦å­˜åœ¨æ¬¡æ•°å¤§äºä¸€çš„æ—¶å€™ï¼Œ
        // è°ƒæ•´çª—å£å·¦è¾¹ç•Œï¼Œç›´åˆ°å…ƒç´ å‡ºç°æ¬¡æ•°ä¸º1
        while(map.get(c) > 1){
            char c1 = s.charAt(i++);
            map.put(c1, map.get(c1) - 1);
        }
        // æ›´æ–°æœ€å¤§å€¼
        max = Math.max(max, j - i);
    }
    return max;
}
```



### [15. ä¸‰æ•°ä¹‹å’Œ](https://leetcode-cn.com/problems/3sum/)

ç»™ä½ ä¸€ä¸ªåŒ…å« *n* ä¸ªæ•´æ•°çš„æ•°ç»„ `nums`ï¼Œåˆ¤æ–­ `nums` ä¸­æ˜¯å¦å­˜åœ¨ä¸‰ä¸ªå…ƒç´ *aï¼Œbï¼Œc ï¼Œ*ä½¿å¾— *a + b + c =* 0 ï¼Ÿè¯·ä½ æ‰¾å‡ºæ‰€æœ‰æ»¡è¶³æ¡ä»¶ä¸”ä¸é‡å¤çš„ä¸‰å…ƒç»„ã€‚ æ³¨æ„ï¼šç­”æ¡ˆä¸­ä¸å¯ä»¥åŒ…å«é‡å¤çš„ä¸‰å…ƒç»„ã€‚

ç¤ºä¾‹ï¼š

```
ç»™å®šæ•°ç»„ nums = [-1, 0, 1, 2, -1, -4]ï¼Œ

æ»¡è¶³è¦æ±‚çš„ä¸‰å…ƒç»„é›†åˆä¸ºï¼š
[
  [-1, 0, 1],
  [-1, -1, 2]
]
```

#### è§£æ³•ä¸€ï¼ˆåŒæŒ‡é’ˆï¼‰

å…¶æœ¬è´¨å°±æ˜¯ä¸¤æ•°æ±‚å’Œï¼Œæ•°ç»„æ’åºä¹‹åå›ºå®šaï¼Œå†å¯¹bå’Œcè¿›è¡Œä¸¤ä¸ªæ•°æ±‚å’Œçš„åŒæŒ‡é’ˆè§£æ³•ã€‚æ³¨æ„éœ€è¦è·³è¿‡é‡å¤çš„ä¸‰å…ƒç»„ã€‚

```java
public List<List<Integer>> threeSum(int[] nums) {
    // ç»“æœåˆ—è¡¨
    List<List<Integer>> res = new ArrayList<>();
    // ç‰¹æ®Šæƒ…å†µ
    if (nums.length < 3) {
        return res;
    }
    // æ’åº
    Arrays.sort(nums);
    // å…ˆå›ºå®š a
    for (int i = 0; i < nums.length - 2; i++) {
        // a å¿…é¡»è¦å°äº 0ï¼Œå¦è€…ä¸‰æ•°ä¸å¯èƒ½ä¸º0
        if (nums[0] > 0) {
            return res;
        }
        // å› ä¸ºä¸èƒ½åŒ…å«é‡å¤çš„ä¸‰å…ƒç»„ï¼Œæ‰€ä»¥è·³è¿‡
        if (i > 0 && (nums[i] == nums[i - 1])) {
            continue;
        }
        // åŒ¹é…ä¸º 0 çš„ç›®æ ‡å€¼
        int target = -nums[i];
        // ä¸‹é¢å°±æ˜¯ä¸¤æ•°ä¹‹å’Œ æ’åºåŒæŒ‡é’ˆè§£æ³•
        // é¦–å°¾æŒ‡é’ˆ
        int left = i + 1, right = nums.length - 1;
        // é¦–å°¾æ²¡æœ‰ç›¸äº¤
        while (left < right) {
            // é¦–å°¾åŒ¹é…ç›®æ ‡å€¼
            if ((nums[left] + nums[right]) == target) {
                // æ·»åŠ ç»“æœ
                res.add(Arrays.asList(nums[i], nums[left], nums[right]));
                // è¿‡æ»¤é‡å¤å€¼
                while (left < right && nums[left] == nums[left + 1]) {
                    left++;
                }
                // è¿‡æ»¤é‡å¤å€¼
                while (left < right && nums[right] == nums[right - 1]) {
                    right--;
                }
                // ç¼©å°èŒƒå›´ï¼ŒåŒ¹é…ä¸‹ä¸€ä¸ªç»“æœ
                left++;
                right--;
            }
            // å¤§äºï¼Œå°¾å‡
            else if ((nums[left] + nums[right] > target)) {
                right--;
            }
            // å°äºï¼Œé¦–åŠ 
            else {
                left++;
            }
        }
    }
    return res;
}
```

### [20. æœ‰æ•ˆçš„æ‹¬å·](https://leetcode-cn.com/problems/valid-parentheses/)

ç»™å®šä¸€ä¸ªåªåŒ…æ‹¬ `'('`ï¼Œ`')'`ï¼Œ`'{'`ï¼Œ`'}'`ï¼Œ`'['`ï¼Œ`']'` çš„å­—ç¬¦ä¸²ï¼Œåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦æœ‰æ•ˆã€‚

æœ‰æ•ˆå­—ç¬¦ä¸²éœ€æ»¡è¶³ï¼š

1. å·¦æ‹¬å·å¿…é¡»ç”¨ç›¸åŒç±»å‹çš„å³æ‹¬å·é—­åˆã€‚
2. å·¦æ‹¬å·å¿…é¡»ä»¥æ­£ç¡®çš„é¡ºåºé—­åˆã€‚

æ³¨æ„ç©ºå­—ç¬¦ä¸²å¯è¢«è®¤ä¸ºæ˜¯æœ‰æ•ˆå­—ç¬¦ä¸²ã€‚

#### è§£æ³•ä¸€ï¼ˆæ ˆï¼‰

è§£å†³æ‹¬å·é—®é¢˜å¸¸ç”¨æ ˆï¼Œåˆ›å»ºä¸€ä¸ªå¯¹åº”åŒ¹é…è§„åˆ™çš„mapï¼Œé‡åˆ°å·¦å…¥æ ˆï¼Œå³å‡ºæ ˆå¹¶åˆ¤æ–­æ˜¯å¦å¯¹åº”åŒ¹é…ï¼Œä¸åŒ¹é…è¿”å›falseã€‚

```java
public boolean isValid(String s) {
    if (s.length() == 0) {
        return true;
    }
    // æ–¹ä¾¿åŒ¹é…
    Map<Character, Character> map = new HashMap<>();
    map.put('{', '}');
    map.put('[', ']');
    map.put('(', ')');
    // ä¸åŒ…å«æœ‰æ•ˆå·¦å­—ç¬¦
    if (!map.containsKey(s.charAt(0))) {
        return false;
    }
    LinkedList<Character> stack = new LinkedList<>();
    try {
        for (Character c : s.toCharArray()) {
            // å·¦å­—ç¬¦ç›´æ¥å…¥æ ˆ
            if (map.containsKey(c)) {
                stack.push(c);
            }
            // å³å­—ç¬¦éœ€è¦è·Ÿæ ˆé¡¶æˆå¯¹
            else if (map.get(stack.pop()) != c) {
                return false;
            }
        }
    } catch (Exception e) {
        // stackä¸‹æ ‡è¶…å‡ºç›´æ¥è¿”å›false
        return false;
    }
    return stack.size() == 0;
}
```



### [39. ç»„åˆæ€»å’Œ](https://leetcode-cn.com/problems/combination-sum/)

ç»™å®šä¸€ä¸ª**æ— é‡å¤å…ƒç´ **çš„æ•°ç»„ `candidates` å’Œä¸€ä¸ªç›®æ ‡æ•° `target` ï¼Œæ‰¾å‡º `candidates` ä¸­æ‰€æœ‰å¯ä»¥ä½¿æ•°å­—å’Œä¸º `target` çš„ç»„åˆã€‚

`candidates` ä¸­çš„æ•°å­—å¯ä»¥æ— é™åˆ¶é‡å¤è¢«é€‰å–ã€‚

è¯´æ˜ï¼š

- æ‰€æœ‰æ•°å­—ï¼ˆåŒ…æ‹¬ `target`ï¼‰éƒ½æ˜¯æ­£æ•´æ•°ã€‚
- è§£é›†ä¸èƒ½åŒ…å«é‡å¤çš„ç»„åˆã€‚ 

ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼šcandidates = [2,3,6,7], target = 7,
æ‰€æ±‚è§£é›†ä¸ºï¼š
[
  [7],
  [2,2,3]
]
```

#### è§£æ³•ä¸€ï¼ˆDFSï¼‰

ä½¿ç”¨å›æº¯æ³•å¯»æ‰¾å¯è¡Œè§£ï¼Œä½†æ˜¯éœ€è¦æ³¨æ„å¯ä»¥ä¸é€‰æ‹©ä½¿ç”¨è¿™ä¸ªæ•°å¹¶ä¸”è¿™ä¸ªæ•°å¯ä»¥é‡å¤ä½¿ç”¨ã€‚

```java
List<List<Integer>> res39 = new ArrayList<>();

public List<List<Integer>> combinationSum(int[] candidates, int target) {
    List<Integer> combine = new ArrayList<>();
    dfs(candidates, target, combine, 0);
    return res39;
}

private void dfs(int[] candidates, int target, List<Integer> combine, int idx) {
    // åˆ°è¿™æ•°ç»„å°¾ä¸”ä¸ç¬¦åˆæ¡ä»¶
    if (idx == candidates.length) {
        return;
    }
    // ç¬¦åˆæ¡ä»¶å¹¶è®°å½•ç»“æœ
    if (target == 0) {
        res39.add(new ArrayList<>(combine));
        return;
    }
    // é€‰æ‹©ä¸ä½¿ç”¨è¿™ä¸ªidx
    dfs(candidates, target, combine, idx + 1);
    // é€‰æ‹©ä½¿ç”¨è¿™ä¸ªidxï¼Œä½†æ˜¯è¦æ»¡è¶³é¢˜æ„
    if (target - candidates[idx] >= 0) {
        // åŠ ä¸Šç»„åˆ
        combine.add(candidates[idx]);
        // é€’å½’æœç´¢ï¼Œå› ä¸ºå¯ä»¥é€‰é‡å¤å€¼ï¼Œæ‰€ä»¥è¿˜æ˜¯idx
        dfs(candidates, target - candidates[idx], combine, idx);
        // å–æ¶ˆç»„åˆ
        combine.remove(combine.size() - 1);
    }
}
```



### [42. æ¥é›¨æ°´](https://leetcode-cn.com/problems/trapping-rain-water/)

è¯¦æƒ…è¯·ç‚¹å‡»é“¾æ¥è·³è½¬ã€‚

#### è§£æ³•ä¸€ï¼ˆæš´åŠ›ï¼‰

ç›´æ¥æŒ‰é—®é¢˜æè¿°è¿›è¡Œã€‚å¯¹äºæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ï¼Œæˆ‘ä»¬æ‰¾å‡ºä¸‹é›¨åæ°´èƒ½è¾¾åˆ°çš„æœ€é«˜ä½ç½®ï¼Œç­‰äºä¸¤è¾¹æœ€å¤§é«˜åº¦çš„è¾ƒå°å€¼å‡å»å½“å‰é«˜åº¦çš„å€¼ã€‚

```java
public int trap(int[] height) {
    int ans = 0;
    int size = height.length;
    for (int i = 1; i < size - 1; i++) {
        int max_left = 0, max_right = 0;
        // Search the left part for max bar size
        for (int j = i; j >= 0; j--) { 
            max_left = Math.max(max_left, height[j]);
        }
        // Search the right part for max bar size
        for (int j = i; j < size; j++) { 
            max_right = Math.max(max_right, height[j]);
        }
        ans += Math.min(max_left, max_right) - height[i];
    }
    return ans;
}
```

### [64. æœ€å°è·¯å¾„å’Œ](https://leetcode-cn.com/problems/minimum-path-sum/)

ç»™å®šä¸€ä¸ªåŒ…å«éè´Ÿæ•´æ•°çš„ *m* x *n* ç½‘æ ¼ï¼Œè¯·æ‰¾å‡ºä¸€æ¡ä»å·¦ä¸Šè§’åˆ°å³ä¸‹è§’çš„è·¯å¾„ï¼Œä½¿å¾—è·¯å¾„ä¸Šçš„æ•°å­—æ€»å’Œä¸ºæœ€å°ã€‚

è¯´æ˜ï¼šæ¯æ¬¡åªèƒ½å‘ä¸‹æˆ–è€…å‘å³ç§»åŠ¨ä¸€æ­¥ã€‚

ç¤ºä¾‹:

```
è¾“å…¥:
[
  [1,3,1],
  [1,5,1],
  [4,2,1]
]
è¾“å‡º: 7
è§£é‡Š: å› ä¸ºè·¯å¾„ 1â†’3â†’1â†’1â†’1 çš„æ€»å’Œæœ€å°ã€‚
```

#### è§£æ³•ä¸€ï¼ˆåŠ¨æ€è§„åˆ’ï¼‰

1. dpï¼šä»£è¡¨ç›´åˆ°èµ°åˆ° (i,j)çš„æœ€å°è·¯å¾„å’Œã€‚
2. åˆå§‹å€¼ï¼š00ã€0*ã€\*0éƒ½åªæœ‰å›ºå®šè·¯å¾„
3. è½¬ç§»æ–¹ç¨‹ï¼šé™¤å¼€åˆå§‹å€¼ä¹‹å¤–ï¼Œå…¶ä»–çš„ijéƒ½æœ‰ä¸¤ç§èµ°æ³•ï¼Œä»ä¸Šæˆ–è€…ä»å·¦è¾¹æ¥ï¼Œé€‰æ‹©è¾ƒå°çš„ä¸€ä¸ªæ„æˆè¿™ä¸ªijçš„æœ€å°è·¯å¾„ã€‚

éå†è·¯å¾„ï¼Œæ±‚å‡ºdp

```java
public int minPathSum(int[][] grid) {
    // ä»£è¡¨ç›´åˆ°èµ°åˆ° (i,j)çš„æœ€å°è·¯å¾„å’Œã€‚
    // å¯ä»¥å…±ç”¨gridï¼Œè¿™é‡Œæ˜¯ä¸ºäº†æ–¹ä¾¿ç†è§£
    int[][] dp = new int[grid.length][grid[0].length];
    // éå†è·¯å¾„
    for (int i = 0; i < grid.length; i++) {
        for (int j = 0; j < grid[0].length; j++) {
            // 00çš„æ—¶å€™åˆå§‹dp
            if (i == 0 && j == 0) {
                dp[i][j] = grid[i][j];
            }
            // 0*çš„æ—¶å€™åªæœ‰ä¸€ç§è·¯å¾„
            else if (i == 0) {
                dp[i][j] = dp[i][j - 1] + grid[i][j];
            }
            // *0çš„æ—¶å€™åªæœ‰ä¸€ç§è·¯å¾„
            else if (j == 0) {
                dp[i][j] = dp[i - 1][j] + grid[i][j];
            }
            // å…¶ä»–çš„ijæ‰æœ‰å¯èƒ½æœ‰å¤šä¸­è·¯å¾„
            // å‘ä¸‹æˆ–è€…æ˜¯å‘å³èµ°ï¼Œé€‰æ‹©æœ€å°å€¼
            else {
                dp[i][j] = Math.min(dp[i - 1][j], dp[i][j - 1]) + grid[i][j];
            }
        }
    }
    return dp[grid.length - 1][grid[0].length - 1];
}
```



### [141. ç¯å½¢é“¾è¡¨](https://leetcode-cn.com/problems/linked-list-cycle/)

ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œåˆ¤æ–­é“¾è¡¨ä¸­æ˜¯å¦æœ‰ç¯ã€‚

ä¸ºäº†è¡¨ç¤ºç»™å®šé“¾è¡¨ä¸­çš„ç¯ï¼Œæˆ‘ä»¬ä½¿ç”¨æ•´æ•° pos æ¥è¡¨ç¤ºé“¾è¡¨å°¾è¿æ¥åˆ°é“¾è¡¨ä¸­çš„ä½ç½®ï¼ˆç´¢å¼•ä» 0 å¼€å§‹ï¼‰ã€‚ å¦‚æœ pos æ˜¯ -1ï¼Œåˆ™åœ¨è¯¥é“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šhead = [3,2,0,-4], pos = 1
è¾“å‡ºï¼štrue
è§£é‡Šï¼šé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬äºŒä¸ªèŠ‚ç‚¹ã€‚
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šhead = [1,2], pos = 0
è¾“å‡ºï¼štrue
è§£é‡Šï¼šé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚
```

#### è§£æ³•ä¸€ï¼ˆå¿«æ…¢æŒ‡é’ˆï¼‰

ç”¨ä¸€ä¸ªå¿«æ…¢æŒ‡é’ˆå°±å¯ä»¥å®Œæˆï¼Œå¿«æ…¢æŒ‡é’ˆç›¸äº¤å°±ä»£è¡¨æˆç¯äº†

```java
public boolean hasCycle(ListNode head) {
    // ç‰¹æ®Šå€¼ï¼Œä¸æ»¡è¶³
    if (head == null || head.next == null) {
        return false;
    }
    // å¿«æ…¢æŒ‡é’ˆ
    ListNode slow = head, fast = head;
    while(fast != null && fast.next != null){
        // èµ°ä¸€æ­¥
        slow = slow.next;
        // èµ°ä¸¤æ­¥
        fast = fast.next.next;
        // é¦–å°¾ç›¸äº¤ï¼Œä»£è¡¨æˆç¯
        if(slow == fast){
            return true;
        }
    }
    // ä»£è¡¨åˆ°è¾¾é“¾è¡¨å°¾éƒ¨ï¼Œä¸”æ²¡æœ‰æˆç¯
    return false;
}
```

### [142. ç¯å½¢é“¾è¡¨ II](https://leetcode-cn.com/problems/linked-list-cycle-ii/)

ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œè¿”å›é“¾è¡¨å¼€å§‹å…¥ç¯çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚ å¦‚æœé“¾è¡¨æ— ç¯ï¼Œåˆ™è¿”å› `null`ã€‚

ä¸ºäº†è¡¨ç¤ºç»™å®šé“¾è¡¨ä¸­çš„ç¯ï¼Œæˆ‘ä»¬ä½¿ç”¨æ•´æ•° `pos` æ¥è¡¨ç¤ºé“¾è¡¨å°¾è¿æ¥åˆ°é“¾è¡¨ä¸­çš„ä½ç½®ï¼ˆç´¢å¼•ä» 0 å¼€å§‹ï¼‰ã€‚ å¦‚æœ `pos` æ˜¯ `-1`ï¼Œåˆ™åœ¨è¯¥é“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚è¯´æ˜ï¼šä¸å…è®¸ä¿®æ”¹ç»™å®šçš„é“¾è¡¨ã€‚

ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼šhead = [3,2,0,-4], pos = 1
è¾“å‡ºï¼štail connects to node index 1
è§£é‡Šï¼šé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬äºŒä¸ªèŠ‚ç‚¹ã€‚
```

#### è§£æ³•ä¸€ï¼ˆHashSetï¼‰

```java
// æ—¶é—´å¤æ‚åº¦O(n)
public ListNode detectCycle(ListNode head) {
    Set<ListNode> visited = new HashSet<ListNode>();
    ListNode node = head;
    while (node != null) {
        // åŒ…å«é‡å¤ï¼Œä»£è¡¨å…¥å£
        if (visited.contains(node)) {
            return node;
        }
        visited.add(node);
        node = node.next;
    }
    return null;
}
```

#### è§£æ³•äºŒï¼ˆåŒæŒ‡é’ˆï¼‰

åˆ†ä¸¤ä¸ªæ­¥éª¤ï¼Œé¦–å…ˆé€šè¿‡å¿«æ…¢æŒ‡é’ˆçš„æ–¹æ³•åˆ¤æ–­é“¾è¡¨æ˜¯å¦æœ‰ç¯ï¼›

æ¥ä¸‹æ¥æ‰¾å…¥å£ï¼Œå…·ä½“çš„æ–¹æ³•ä¸ºï¼Œé¦–å…ˆå‡å®šé“¾è¡¨èµ·ç‚¹åˆ°å…¥ç¯çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹Açš„é•¿åº¦ä¸ºaã€æœªçŸ¥ã€‘ï¼Œåˆ°å¿«æ…¢æŒ‡é’ˆç›¸é‡çš„èŠ‚ç‚¹Bçš„é•¿åº¦ä¸ºï¼ˆa + bï¼‰ã€è¿™ä¸ªé•¿åº¦æ˜¯å·²çŸ¥çš„ã€‘ã€‚ç°åœ¨æˆ‘ä»¬æƒ³çŸ¥é“açš„å€¼ï¼Œæ³¨æ„åˆ°å¿«æŒ‡é’ˆp2å§‹ç»ˆæ˜¯æ…¢æŒ‡é’ˆpèµ°è¿‡é•¿åº¦çš„2å€ï¼Œæ‰€ä»¥æ…¢æŒ‡é’ˆpä»Bç»§ç»­èµ°ï¼ˆa + bï¼‰åˆèƒ½å›åˆ°Bç‚¹ï¼Œå¦‚æœåªèµ°aä¸ªé•¿åº¦å°±èƒ½å›åˆ°èŠ‚ç‚¹Aã€‚ä½†æ˜¯açš„å€¼æ˜¯ä¸çŸ¥é“çš„ï¼Œè§£å†³æ€è·¯æ˜¯æ›²çº¿æ•‘å›½ï¼Œæ³¨æ„åˆ°èµ·ç‚¹åˆ°Açš„é•¿åº¦æ˜¯aï¼Œ**é‚£ä¹ˆå¯ä»¥ç”¨ä¸€ä¸ªä»èµ·ç‚¹å¼€å§‹çš„æ–°æŒ‡é’ˆqå’Œä»èŠ‚ç‚¹Bå¼€å§‹çš„æ…¢æŒ‡é’ˆpåŒæ­¥èµ°ï¼Œç›¸é‡çš„åœ°æ–¹å¿…ç„¶æ˜¯å…¥ç¯çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹Aã€‚**

```java
public ListNode detectCycle(ListNode head) {
    ListNode p = head, p2 = head;
    boolean hasCycle = false;
    while (p2.next != null && p2.next.next != null) {
        p = p.next;
        p2 = p2.next.next;
        if (p == p2) {
            hasCycle = true;
            break;
        }
    }
    // æ­¥éª¤äºŒï¼šè‹¥æœ‰ç¯ï¼Œæ‰¾åˆ°å…¥ç¯å¼€å§‹çš„èŠ‚ç‚¹
    if (hasCycle) {
        ListNode q = head;
        while (p != q) {
            p = p.next;
            q = q.next;
        }
        return q;
    } else 
        return null;
}
```

### [146. LRU ç¼“å­˜æœºåˆ¶](https://leetcode-cn.com/problems/lru-cache/)

è¿ç”¨ä½ æ‰€æŒæ¡çš„æ•°æ®ç»“æ„ï¼Œè®¾è®¡å’Œå®ç°ä¸€ä¸ª [LRU (æœ€è¿‘æœ€å°‘ä½¿ç”¨) ç¼“å­˜æœºåˆ¶](https://baike.baidu.com/item/LRU) ã€‚

å®ç° `LRUCache` ç±»ï¼š

- `LRUCache(int capacity)` ä»¥æ­£æ•´æ•°ä½œä¸ºå®¹é‡ `capacity` åˆå§‹åŒ– LRU ç¼“å­˜
- `int get(int key)` å¦‚æœå…³é”®å­— `key` å­˜åœ¨äºç¼“å­˜ä¸­ï¼Œåˆ™è¿”å›å…³é”®å­—çš„å€¼ï¼Œå¦åˆ™è¿”å› `-1` ã€‚
- void put(int key, int value) å¦‚æœå…³é”®å­—å·²ç»å­˜åœ¨ï¼Œåˆ™å˜æ›´å…¶æ•°æ®å€¼ï¼›å¦‚æœå…³é”®å­—ä¸å­˜åœ¨ï¼Œåˆ™æ’å…¥è¯¥ç»„ã€Œå…³é”®å­—-å€¼ã€ã€‚å½“ç¼“å­˜å®¹é‡è¾¾åˆ°ä¸Šé™æ—¶ï¼Œå®ƒåº”è¯¥åœ¨å†™å…¥æ–°æ•°æ®ä¹‹å‰åˆ é™¤æœ€ä¹…æœªä½¿ç”¨çš„æ•°æ®å€¼ï¼Œä»è€Œä¸ºæ–°çš„æ•°æ®å€¼ç•™å‡ºç©ºé—´ã€‚

**è¿›é˜¶**ï¼šä½ æ˜¯å¦å¯ä»¥åœ¨ `O(1)` æ—¶é—´å¤æ‚åº¦å†…å®Œæˆè¿™ä¸¤ç§æ“ä½œï¼Ÿ

#### è§£æ³•ä¸€

ä½¿ç”¨HashMapå’ŒåŒå‘é“¾è¡¨å®ç°ï¼Œé“¾è¡¨ç”¨æ¥å­˜æ”¾å…ƒç´ å’Œå…·ä½“é¡ºåºï¼Œmapå­˜æ”¾keyå’Œå¯¹åº”çš„Nodeï¼Œæ–¹ä¾¿åœ¨O(1)è·å¾—è¯¥å…ƒç´ ï¼Œå…¸å‹çš„ç©ºé—´æ¢æ—¶é—´ã€‚

getæ—¶ï¼Œåœ¨mapä¸­è·å–è¿™ä¸ªå…ƒç´ å¹¶åœ¨åŒå‘é“¾è¡¨ä¸­åˆ é™¤è¿™ä¸ªå…ƒç´ å¹¶å°†å…¶æ”¾ç½®åˆ°å¯¹å¤´

putæ—¶ï¼Œkeyä¸å­˜åœ¨çš„è¯ç›´æ¥æ”¾ç½®åˆ°å¯¹å¤´å¹¶ä¿®æ”¹valueï¼Œkeyå­˜åœ¨æ—¶åˆ™åˆ›å»ºNodeæ”¾å…¥mapå¹¶æ”¾ç½®åˆ°å¯¹å¤´ã€‚

```java
// 
public class LRUCache {
  private Map<Integer, DoubleList> cache = new HashMap<>();
  private int size;
  private int capacity;
  private DoubleList head, tail;

  public LRUCache(int capacity) {
    this.size = 0;
    this.capacity = capacity;
    // ä½¿ç”¨ä¼ªå¤´éƒ¨å’Œä¼ªå°¾éƒ¨èŠ‚ç‚¹
    head = new DoubleList(0, 0);
    tail = new DoubleList(0, 0);
    head.next = tail;
    tail.prev = head;
  }

  public int get(int key) {
    DoubleList node = cache.get(key);
    if (node == null) {
      return -1;
    }
    // å¦‚æœ key å­˜åœ¨ï¼Œå…ˆé€šè¿‡å“ˆå¸Œè¡¨å®šä½ï¼Œå†ç§»åˆ°å¤´éƒ¨
    moveToHead(node);
    return node.v;
  }

  public void put(int key, int value) {
    DoubleList node = cache.get(key);
    if (node == null) {
      // å¦‚æœ key ä¸å­˜åœ¨ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„èŠ‚ç‚¹
      DoubleList newNode = new DoubleList(key, value);
      // æ·»åŠ è¿›å“ˆå¸Œè¡¨
      cache.put(key, newNode);
      // æ·»åŠ è‡³åŒå‘é“¾è¡¨çš„å¤´éƒ¨
      addToHead(newNode);
      ++size;
      if (size > capacity) {
        // å¦‚æœè¶…å‡ºå®¹é‡ï¼Œåˆ é™¤åŒå‘é“¾è¡¨çš„å°¾éƒ¨èŠ‚ç‚¹
        DoubleList tail = removeTail();
        // åˆ é™¤å“ˆå¸Œè¡¨ä¸­å¯¹åº”çš„é¡¹
        cache.remove(tail.k);
        --size;
      }
    } else {
      // å¦‚æœ key å­˜åœ¨ï¼Œå…ˆé€šè¿‡å“ˆå¸Œè¡¨å®šä½ï¼Œå†ä¿®æ”¹ valueï¼Œå¹¶ç§»åˆ°å¤´éƒ¨
      node.v = value;
      moveToHead(node);
    }
  }

  // å¤´æ’æ³•ï¼Œä¿®æ”¹4ä¸ªæŒ‡é’ˆ
  private void addToHead(DoubleList node) {
    node.prev = head;
    node.next = head.next;
    head.next.prev = node;
    head.next = node;
  }

  // åˆ é™¤ä¸¤ä¸ªæŒ‡é’ˆ
  private void removeNode(DoubleList node) {
    node.prev.next = node.next;
    node.next.prev = node.prev;
  }

  private void moveToHead(DoubleList node) {
    removeNode(node);
    addToHead(node);
  }

  private DoubleList removeTail() {
    DoubleList res = tail.prev;
    removeNode(res);
    return res;
  }

  class DoubleList {
    int k;
    int v;
    DoubleList prev;
    DoubleList next;

    public DoubleList(int k, int v) {
      k = k;
      v = v;
    }
  }
}
```



### [215. æ•°ç»„ä¸­çš„ç¬¬Kä¸ªæœ€å¤§å…ƒç´ ](https://leetcode-cn.com/problems/kth-largest-element-in-an-array/)

åœ¨æœªæ’åºçš„æ•°ç»„ä¸­æ‰¾åˆ°ç¬¬ **k** ä¸ªæœ€å¤§çš„å…ƒç´ ã€‚è¯·æ³¨æ„ï¼Œä½ éœ€è¦æ‰¾çš„æ˜¯æ•°ç»„æ’åºåçš„ç¬¬ k ä¸ªæœ€å¤§çš„å…ƒç´ ï¼Œè€Œä¸æ˜¯ç¬¬ k ä¸ªä¸åŒçš„å…ƒç´ ã€‚

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: [3,2,1,5,6,4] å’Œ k = 2
è¾“å‡º: 5
```

#### è§£æ³•ä¸€ï¼ˆæœ€å¤§å †ï¼‰

è¯¦æƒ…å‚è€ƒ å‰‘æŒ‡offer æœ€å°çš„kä¸ªæ•°

#### è§£æ³•äºŒï¼ˆå¿«æ’å˜å½¢ï¼‰

è¯¦æƒ…å‚è€ƒ å‰‘æŒ‡offer æœ€å°çš„kä¸ªæ•°



### [300. æœ€é•¿ä¸Šå‡å­åºåˆ—](https://leetcode-cn.com/problems/longest-increasing-subsequence/)

ç»™å®šä¸€ä¸ªæ— åºçš„æ•´æ•°æ•°ç»„ï¼Œæ‰¾åˆ°å…¶ä¸­æœ€é•¿ä¸Šå‡å­åºåˆ—çš„é•¿åº¦ã€‚

ç¤ºä¾‹:

```
è¾“å…¥: [10,9,2,5,3,7,101,18]
è¾“å‡º: 4 
è§£é‡Š: æœ€é•¿çš„ä¸Šå‡å­åºåˆ—æ˜¯ [2,3,7,101]ï¼Œå®ƒçš„é•¿åº¦æ˜¯ 4ã€‚
```

è¯´æ˜:

- å¯èƒ½ä¼šæœ‰å¤šç§æœ€é•¿ä¸Šå‡å­åºåˆ—çš„ç»„åˆï¼Œä½ åªéœ€è¦è¾“å‡ºå¯¹åº”çš„é•¿åº¦å³å¯ã€‚
- ä½ ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦åº”è¯¥ä¸º O(*n2*) ã€‚

è¿›é˜¶: ä½ èƒ½å°†ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦é™ä½åˆ° O(*n* log *n*) å—?

#### è§£æ³•ä¸€ï¼ˆåŠ¨æ€è§„åˆ’ï¼‰

1. dpï¼šä¸‹æ ‡ä¸º i çš„å…ƒç´ çš„å€¼ä»£è¡¨å¯¹åº”ä¸‹æ ‡ä¹‹å‰æ•°ç»„ä¸­æœ€é•¿çš„å­åºåˆ—é•¿åº¦
2. åˆå§‹å€¼ï¼šæ‰€æœ‰é¡¹çš„åˆå§‹å€¼éƒ½ä¸º 1
3. è½¬ç§»æ–¹ç¨‹ï¼šç”¨ i éå†æ•°ç»„å¾—åˆ°dpå¯¹åº”çš„æœ€å¤§å€¼ï¼Œä½†æ˜¯ç”±äºå­åºåˆ—å¹¶ä¸è¦æ±‚è¿ç»­ï¼Œå› æ­¤ç”¨ j éå† i çš„å·¦è¾¹ï¼Œj å°äº i ä»£è¡¨ i å¯ä»¥æ¥åˆ° j çš„åé¢ï¼Œæ­¤æ—¶å¯ä»¥æ¨å‡ºçŠ¶æ€è½¬ç§»æ–¹ç¨‹`dp[i] = Math.max(dp[i], dp[j] + 1)`æ‰¾åˆ° i å­åºåˆ—ä¸­æœ€å¤§çš„ä¸Šå‡é•¿åº¦ã€‚

```java
public int lengthOfLIS(int[] nums) {
    // å‰içš„æ•°ç»„ä¸­æœ€é•¿çš„å­åºåˆ—é•¿åº¦
    int[] dp = new int[nums.length];
    // åˆå§‹çŠ¶æ€é•¿åº¦éƒ½ä¸º1
    Arrays.fill(dp, 1);
    // å¼€å§‹éå†æ›´æ–°dp[i]çš„æœ€å¤§å€¼
    for (int i = 0; i < nums.length; i++) {
        // ç”±äºæ˜¯å­åºåˆ—ï¼Œå¹¶ä¸è¦æ±‚è¿ç»­
        // æ‰€ä»¥æ­¤å¤„è¦ç»§ç»­å¾ªç¯
        for (int j = 0; j < i; j++) {
            // å°äºï¼Œä»£è¡¨iå¯ä»¥æ¥åˆ°åˆ°jåé¢
            if (nums[i] > nums[j]) {
                // æ›´æ–°dp[i]çš„æœ€å¤§å€¼
                dp[i] = Math.max(dp[i], dp[j] + 1);
            }
        }
    }
    // æ‰¾åˆ°æœ€å¤§çš„é•¿åº¦
    int res = 0;
    for (int i = 0; i < dp.length; i++) {
        res = Math.max(res, dp[i]);
    }
    return res;
}
```



#### è§£æ³•äºŒï¼ˆdp+äºŒåˆ†ï¼‰

```java
// TODO
```

### [344. åè½¬å­—ç¬¦ä¸²](https://leetcode-cn.com/problems/reverse-string/)

ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œå…¶ä½œç”¨æ˜¯å°†è¾“å…¥çš„å­—ç¬¦ä¸²åè½¬è¿‡æ¥ã€‚è¾“å…¥å­—ç¬¦ä¸²ä»¥å­—ç¬¦æ•°ç»„ char[] çš„å½¢å¼ç»™å‡ºã€‚

ä¸è¦ç»™å¦å¤–çš„æ•°ç»„åˆ†é…é¢å¤–çš„ç©ºé—´ï¼Œä½ å¿…é¡»åŸåœ°ä¿®æ”¹è¾“å…¥æ•°ç»„ã€ä½¿ç”¨ O(1) çš„é¢å¤–ç©ºé—´è§£å†³è¿™ä¸€é—®é¢˜ã€‚

ä½ å¯ä»¥å‡è®¾æ•°ç»„ä¸­çš„æ‰€æœ‰å­—ç¬¦éƒ½æ˜¯ ASCII ç è¡¨ä¸­çš„å¯æ‰“å°å­—ç¬¦ã€‚

ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼š["h","e","l","l","o"]
è¾“å‡ºï¼š["o","l","l","e","h"]
```

#### è§£æ³•ä¸€ï¼ˆåŒæŒ‡é’ˆï¼‰

é¦–å°¾åŒæŒ‡é’ˆä¸¤ä¸¤äº¤æ¢å°±å¯ä»¥è§£å†³

```java
public void reverseString(char[] s) {
    // åŒæŒ‡é’ˆ
    int i = 0, j = s.length - 1;
    // ä¸¤ä¸¤äº¤æ¢
    while (i < j) {
        char t = s[i];
        s[i] = s[j];
        s[j] = t;
        i++;
        j--;
    }
}
```

### [415. å­—ç¬¦ä¸²ç›¸åŠ ](https://leetcode-cn.com/problems/add-strings/)

ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸²å½¢å¼çš„éè´Ÿæ•´æ•° `num1` å’Œ`num2` ï¼Œè®¡ç®—å®ƒä»¬çš„å’Œã€‚

æç¤ºï¼š

num1 å’Œnum2 çš„é•¿åº¦éƒ½å°äº 5100
num1 å’Œnum2 éƒ½åªåŒ…å«æ•°å­— 0-9
num1 å’Œnum2 éƒ½ä¸åŒ…å«ä»»ä½•å‰å¯¼é›¶
ä½ ä¸èƒ½ä½¿ç”¨ä»»ä½•å…§å»º BigInteger åº“ï¼Œ ä¹Ÿä¸èƒ½ç›´æ¥å°†è¾“å…¥çš„å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•´æ•°å½¢å¼

#### è§£æ³•ä¸€ï¼ˆåŒæŒ‡é’ˆï¼‰

æ¨¡æ‹Ÿæ‰‹å†™ç®—æ•°ï¼Œåˆ©ç”¨åŒå°¾éƒ¨æŒ‡é’ˆï¼Œä»å°¾å¼€å§‹è®¡ç®—ï¼Œå¹¶è·Ÿæ‰‹ç®—ä¸€æ ·ï¼Œä½¿ç”¨é¢å¤–å˜é‡ä¿å­˜è¿›ä½ã€‚è®²æ¯ä½çš„ç»“æœæ’å…¥ç»“æœæ•°ç»„ä¸­ï¼Œæœ€åé€†åºè¾“å‡ºå³å¯æ±‚å€¼ã€‚

```java
public String addStrings(String num1, String num2) {
    StringBuilder sb = new StringBuilder();
    // ä¸¤ä¸ªnumçš„å°¾æŒ‡é’ˆ å’Œ æ­¤æ—¶ç›¸åŠ çš„è¿›ä½
    int i = num1.length() - 1, j = num2.length() - 1, carry = 0;
    // è½¬ä¸ºcharæ•°ç»„
    char[] char1 = num1.toCharArray();
    char[] char2 = num2.toCharArray();
    // å½“æœ‰ä¸€ä¸ªnumæ²¡æœ‰å¤„ç†å®Œæ—¶
    while(i >= 0 || j >= 0){
        // ä¸¤æ•°ç›¸åŠ 
        int n1 = i >= 0 ? char1[i] - '0' : 0;
        int n2 = j >= 0 ? char2[j] - '0' : 0;
        // ä¸¤æ•°ç›¸åŠ å¹¶åŠ ä¸Šè¿›ä½
        int tmp = n1 + n2 + carry;
        // ä¿å­˜å½“å‰ç›¸åŠ çš„è¿›ä½
        carry = tmp / 10;
        // ä¿å­˜ç»“æœ
        sb.append(tmp % 10);
        // å¤„ç†ä¸‹ä¸€ä½
        i--;
        j--;
    }
    // å†æ¬¡å¤„ç†è¿›ä½
    if (carry == 1){
        sb.append(1);
    }
    // å› ä¸ºç»“æœæ˜¯å€’å™å­˜å‚¨ï¼Œå› æ­¤éœ€è¦ç¿»è½¬
    return sb.reverse().toString();
}
```

### [434. å­—ç¬¦ä¸²ä¸­çš„å•è¯æ•°](https://leetcode-cn.com/problems/number-of-segments-in-a-string/)

ç»Ÿè®¡å­—ç¬¦ä¸²ä¸­çš„å•è¯ä¸ªæ•°ï¼Œè¿™é‡Œçš„å•è¯æŒ‡çš„æ˜¯è¿ç»­çš„ä¸æ˜¯ç©ºæ ¼çš„å­—ç¬¦ã€‚

è¯·æ³¨æ„ï¼Œä½ å¯ä»¥å‡å®šå­—ç¬¦ä¸²é‡Œä¸åŒ…æ‹¬ä»»ä½•ä¸å¯æ‰“å°çš„å­—ç¬¦ã€‚

ç¤ºä¾‹:

```
è¾“å…¥: "Hello, my name is John"
è¾“å‡º: 5
è§£é‡Š: è¿™é‡Œçš„å•è¯æ˜¯æŒ‡è¿ç»­çš„ä¸æ˜¯ç©ºæ ¼çš„å­—ç¬¦ï¼Œæ‰€ä»¥ "Hello," ç®—ä½œ 1 ä¸ªå•è¯ã€‚
```

####  è§£æ³•ä¸€ï¼ˆéå†ï¼‰

åˆ¤æ–­æ˜¯ä¸€ä¸ªå•è¯å…¶å‰é¢è¦å­˜åœ¨ç©ºæ ¼ã€‚

```java
public int countSegments(String s) {
    char[] chars = s.toCharArray();
    int len = 0;
    // åŒ¹é…ç¬¬ä¸€ä¸ªæœ‰æ•ˆçš„å­—ç¬¦
    boolean newWord = true;
    // éå†
    for (char c : chars) {
        // ç©ºæ ¼ä¹‹åå¯èƒ½å­˜åœ¨å•è¯
        // è¿‡æ»¤æ‰è¿ç»­çš„ç©ºæ ¼
        if (c == ' ') {
            newWord = true;
        }
        // ä¸æ˜¯ç©ºæ ¼
        else {
            // æœ‰æ•ˆå­—ç¬¦ä¸”ä¹‹å‰æ˜¯ç©ºæ ¼
            if (newWord) {
                len += 1;
                newWord = false;
            }
        }
    }
    return len;
}
```

### [543. äºŒå‰æ ‘çš„ç›´å¾„](https://leetcode-cn.com/problems/diameter-of-binary-tree/)

ç»™å®šä¸€æ£µäºŒå‰æ ‘ï¼Œä½ éœ€è¦è®¡ç®—å®ƒçš„ç›´å¾„é•¿åº¦ã€‚ä¸€æ£µäºŒå‰æ ‘çš„ç›´å¾„é•¿åº¦æ˜¯ä»»æ„ä¸¤ä¸ªç»“ç‚¹è·¯å¾„é•¿åº¦ä¸­çš„æœ€å¤§å€¼ã€‚è¿™æ¡è·¯å¾„å¯èƒ½ç©¿è¿‡ä¹Ÿå¯èƒ½ä¸ç©¿è¿‡æ ¹ç»“ç‚¹ã€‚

ç¤ºä¾‹ :
ç»™å®šäºŒå‰æ ‘

```
          1
         / \
        2   3
       / \     
      4   5    
```

è¿”å› **3**, å®ƒçš„é•¿åº¦æ˜¯è·¯å¾„ [4,2,1,3] æˆ–è€… [5,2,1,3]ã€‚

#### è§£æ³•ä¸€ï¼ˆDFSï¼‰

çŸ¥é“å…¶æœ€å¤§ç›´å¾„ï¼Œé€šè¿‡åˆ†æé¢˜ç›®å¯çŸ¥ï¼Œæœ€å¤§ç›´å¾„ä¸€å®šæ˜¯ä¸€ä¸ªèŠ‚ç‚¹çš„å·¦å³å­æ ‘çš„æœ€å¤§æ·±åº¦ç›¸åŠ ã€‚

```java
int ans543;

public int diameterOfBinaryTree(TreeNode root) {
    if (root == null){
        return 0;
    }
    dfs(root);
    return ans543;
}

private int dfs(TreeNode root){
    // å·²ç»åˆ°è¾¾å¶å­èŠ‚ç‚¹
    if (root.left == null && root.right == null){
        return 0;
    }
    // é€’å½’å·¦èŠ‚ç‚¹å¹¶è®¡ç®—leftæœ€å¤§æ·±åº¦
    int l = root.left == null ? 0 : dfs(root.left) + 1;
    // é€’å½’å³èŠ‚ç‚¹å¹¶è®¡ç®—rightæœ€å¤§æ·±åº¦
    int r = root.right == null ? 0 : dfs(root.right) + 1;
    // æœ€å¤§ç›´å¾„ä¸€å®šæ˜¯ä¸€ä¸ªèŠ‚ç‚¹çš„å·¦å³å­æ ‘çš„æœ€å¤§æ·±åº¦ç›¸åŠ 
    ans543 = Math.max(ans543, l + r);
    // è¿”å›æœ€é•¿çš„æ·±åº¦
    return Math.max(l, r);
}
```







## ç¬”è¯•é¢˜ç›®æ€»ç»“

### N ä¸ªéª°å­å‡ºç°å’Œä¸º M çš„æ¦‚ç‡

#### è§£æ³•ä¸€ï¼ˆDFSï¼‰

è¿™é“é¢˜é¢è¯•å®˜æç¤ºè¯´ç”¨åŠ¨æ€è§„åˆ’ï¼Œæ²¡å†™å‡ºæ¥ï¼Œå…¶ä½¿ç”¨DFSå¯ä»¥æ›´å¥½ç†è§£ã€‚å¯ä»¥ä¸ç›´æ¥æ±‚æ¦‚ç‡ï¼Œç”¨DFSå…ˆæ±‚å‡ºæ€»å…±å¯èƒ½çš„æ¬¡æ•°ï¼Œæœ€ååœ¨è·Ÿæ€»çš„å¯èƒ½æ¬¡æ•°ç›¸é™¤ã€‚

```java
// æ±‚æ»¡è¶³æ¡ä»¶çš„ä¸ªæ•°
public int getNSumCount(int n, int m){
    // ä¸æ»¡è¶³æƒ…å†µçš„æ¡ä»¶
    if(n < 1 || m < n || m > 6 * n){
        return 0;
    }
    // å·²ç»å›æº¯åˆ°åº•ä¸”æ»¡è¶³æ¡ä»¶ï¼Œres++
    if(n == 1){
        return 1;
    }
    // å›æº¯å¯èƒ½å‡ºç°çš„6ä¸­æƒ…å†µ
    int res = 0;
    for (int i = 1; i <= 6; i++) {
        res += getNSumCount(n - 1, m - i);
    }
    return res;
}
```

### å­—ç¬¦ä¸²å˜å½¢

å¯¹äºä¸€ä¸ªç»™å®šçš„å­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬éœ€è¦åœ¨çº¿æ€§(ä¹Ÿå°±æ˜¯O(n))çš„æ—¶é—´é‡Œå¯¹å®ƒåšä¸€äº›å˜å½¢ã€‚é¦–å…ˆè¿™ä¸ªå­—ç¬¦ä¸²ä¸­åŒ…å«ç€ä¸€äº›ç©ºæ ¼ï¼Œå°±åƒ"Hello World"ä¸€æ ·ï¼Œç„¶åæˆ‘ä»¬è¦åšçš„æ˜¯æŠŠç€ä¸ªå­—ç¬¦ä¸²ä¸­ç”±ç©ºæ ¼éš”å¼€çš„å•è¯ååºï¼ŒåŒæ—¶åè½¬æ¯ä¸ªå­—ç¬¦çš„å¤§å°å†™ã€‚æ¯”å¦‚"Hello World"å˜å½¢åå°±å˜æˆäº†"wORLD hELLO"ã€‚

#### è§£æ³•ä¸€ï¼ˆå¸¸è§„ï¼‰

ç”¨ç©ºæ ¼åˆ†éš”ï¼Œæ’å…¥æ ˆä¸­ï¼Œå†ä»æ ˆä¸­å¼¹å‡ºå¹¶é¡ºä¾¿è½¬æ¢å¤§å°å†™ã€‚

```java
public String trans(String string, int n) {
    Stack<String> stack = new Stack<>();
    Arrays.stream(string.split(" ")).forEach(stack::push);
    StringBuilder sb = new StringBuilder();
    while(!stack.isEmpty()){
        String pop = stack.pop();
        for (int i = 0; i < pop.length(); i++) {
            char c = pop.charAt(i);
            // è½¬æ¢å¤§å°å†™
            if ('a' <= c && c <= 'z'){
                sb.append((char)(c - (char)32));
            }else{
                sb.append((char)(c + 32));
            }
        }
        sb.append(" ");
    }
    return sb.deleteCharAt(sb.length() - 1).toString();
}
```



